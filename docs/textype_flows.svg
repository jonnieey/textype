<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 14.1.1 (0)
 -->
<!-- Title: TextypeFlows Pages: 1 -->
<svg width="8587pt" height="1994pt"
 viewBox="0.00 0.00 8587.00 1994.00" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 1990.32)">
<title>TextypeFlows</title>
<polygon fill="white" stroke="none" points="-4,4 -4,-1990.32 8583,-1990.32 8583,4 -4,4"/>
<g id="clust1" class="cluster">
<title>cluster_config_flow</title>
<polygon fill="none" stroke="blue" points="8,-1079.63 8,-1905.85 797,-1905.85 797,-1079.63 8,-1079.63"/>
<text xml:space="preserve" text-anchor="middle" x="402.5" y="-1886.65" font-family="Times,serif" font-size="16.00">Flow 1: Enhanced Configuration Flow (Hierarchical)</text>
</g>
<g id="clust2" class="cluster">
<title>cluster_mode_flow</title>
<polygon fill="none" stroke="green" points="3157,-489.45 3157,-1889.35 4061,-1889.35 4061,-489.45 3157,-489.45"/>
<text xml:space="preserve" text-anchor="middle" x="3609" y="-1870.15" font-family="Times,serif" font-size="16.00">Flow 2: Practice Mode Selection Flow</text>
</g>
<g id="clust3" class="cluster">
<title>cluster_content_flow</title>
<polygon fill="none" stroke="red" points="5478,-886.2 5478,-1901.25 7133,-1901.25 7133,-886.2 5478,-886.2"/>
<text xml:space="preserve" text-anchor="middle" x="6305.5" y="-1882.05" font-family="Times,serif" font-size="16.00">Flow 3: Content Generation Flow (Multi&#45;Source)</text>
</g>
<g id="clust4" class="cluster">
<title>cluster_prefetch_flow</title>
<polygon fill="none" stroke="purple" points="5054,-669.2 5054,-1969.49 5470,-1969.49 5470,-669.2 5054,-669.2"/>
<text xml:space="preserve" text-anchor="middle" x="5262" y="-1950.29" font-family="Times,serif" font-size="16.00">Flow 4: Asynchronous Pre&#45;fetching Flow</text>
</g>
<g id="clust5" class="cluster">
<title>cluster_validation_flow</title>
<polygon fill="none" stroke="brown" points="4147,-640.45 4147,-1932.9 4976,-1932.9 4976,-640.45 4147,-640.45"/>
<text xml:space="preserve" text-anchor="middle" x="4561.5" y="-1913.7" font-family="Times,serif" font-size="16.00">Flow 5: Typing Validation with Shift Modes</text>
</g>
<g id="clust6" class="cluster">
<title>cluster_evaluation_flow</title>
<polygon fill="none" stroke="darkgreen" points="1965,-8 1965,-1941.38 2914,-1941.38 2914,-8 1965,-8"/>
<text xml:space="preserve" text-anchor="middle" x="2439.5" y="-1922.18" font-family="Times,serif" font-size="16.00">Flow 6: Session Evaluation with Mode Awareness</text>
</g>
<g id="clust7" class="cluster">
<title>cluster_legend</title>
<polygon fill="none" stroke="gray" points="7141,-1736.02 7141,-1893.42 8571,-1893.42 8571,-1736.02 7141,-1736.02"/>
<text xml:space="preserve" text-anchor="middle" x="7856" y="-1742.87" font-family="Times,serif" font-size="12.00">Node Type Legend</text>
</g>
<g id="clust12" class="cluster">
<title>cluster_constants</title>
<polygon fill="none" stroke="darkgreen" points="805,-1775.1 805,-1854.35 1957,-1854.35 1957,-1775.1 805,-1775.1"/>
<text xml:space="preserve" text-anchor="middle" x="1381" y="-1781.95" font-family="Times,serif" font-size="12.00">Global Constants (Enhanced)</text>
</g>
<!-- config_defaults -->
<g id="node1" class="node">
<title>config_defaults</title>
<polygon fill="lightyellow" stroke="black" points="168.25,-1871.1 15.75,-1871.1 15.75,-1780.6 174.25,-1780.6 174.25,-1865.1 168.25,-1871.1"/>
<polyline fill="none" stroke="black" points="168.25,-1871.1 168.25,-1865.1"/>
<polyline fill="none" stroke="black" points="174.25,-1865.1 168.25,-1865.1"/>
<text xml:space="preserve" text-anchor="middle" x="95" y="-1853.8" font-family="Times,serif" font-size="14.00">config.py</text>
<text xml:space="preserve" text-anchor="middle" x="95" y="-1837.3" font-family="Times,serif" font-size="14.00">Hardcoded defaults</text>
<text xml:space="preserve" text-anchor="middle" x="95" y="-1820.8" font-family="Times,serif" font-size="14.00">SHOW_QWERTY=False</text>
<text xml:space="preserve" text-anchor="middle" x="95" y="-1804.3" font-family="Times,serif" font-size="14.00">HARD_MODE=True</text>
<text xml:space="preserve" text-anchor="middle" x="95" y="-1787.8" font-family="Times,serif" font-size="14.00">...</text>
</g>
<!-- get_config_method -->
<g id="node5" class="node">
<title>get_config_method</title>
<polygon fill="lightblue" stroke="black" points="562.97,-1664.45 193.96,-1664.45 99.03,-1450.45 468.04,-1450.45 562.97,-1664.45"/>
<text xml:space="preserve" text-anchor="middle" x="331" y="-1593.65" font-family="Times,serif" font-size="14.00">UserProfile.get_config(key)</text>
<text xml:space="preserve" text-anchor="middle" x="331" y="-1577.15" font-family="Times,serif" font-size="14.00">Hierarchical lookup:</text>
<text xml:space="preserve" text-anchor="middle" x="331" y="-1560.65" font-family="Times,serif" font-size="14.00">1. profile.config_overrides</text>
<text xml:space="preserve" text-anchor="middle" x="331" y="-1544.15" font-family="Times,serif" font-size="14.00">2. INITIAL_PROFILE_OVERRIDES</text>
<text xml:space="preserve" text-anchor="middle" x="331" y="-1527.65" font-family="Times,serif" font-size="14.00">3. DEFAULT_CONFIG</text>
<text xml:space="preserve" text-anchor="middle" x="331" y="-1511.15" font-family="Times,serif" font-size="14.00">4. config.py defaults</text>
</g>
<!-- config_defaults&#45;&gt;get_config_method -->
<g id="edge1" class="edge">
<title>config_defaults&#45;&gt;get_config_method</title>
<path fill="none" stroke="#7f7f7f" d="M123.81,-1780.15C143.27,-1751.2 170.29,-1713.28 197.5,-1682.45 200.28,-1679.3 203.13,-1676.15 206.04,-1672.99"/>
<polygon fill="#7f7f7f" stroke="#7f7f7f" points="208.53,-1675.45 212.82,-1665.76 203.43,-1670.66 208.53,-1675.45"/>
<text xml:space="preserve" text-anchor="middle" x="244.75" y="-1685.65" font-family="Times,serif" font-size="14.00">Fallback (lowest)</text>
</g>
<!-- default_config -->
<g id="node2" class="node">
<title>default_config</title>
<polygon fill="lightyellow" stroke="black" points="321.25,-1862.85 192.75,-1862.85 192.75,-1788.85 327.25,-1788.85 327.25,-1856.85 321.25,-1862.85"/>
<polyline fill="none" stroke="black" points="321.25,-1862.85 321.25,-1856.85"/>
<polyline fill="none" stroke="black" points="327.25,-1856.85 321.25,-1856.85"/>
<text xml:space="preserve" text-anchor="middle" x="260" y="-1845.55" font-family="Times,serif" font-size="14.00">models.py</text>
<text xml:space="preserve" text-anchor="middle" x="260" y="-1829.05" font-family="Times,serif" font-size="14.00">DEFAULT_CONFIG</text>
<text xml:space="preserve" text-anchor="middle" x="260" y="-1812.55" font-family="Times,serif" font-size="14.00">Application defaults</text>
<text xml:space="preserve" text-anchor="middle" x="260" y="-1796.05" font-family="Times,serif" font-size="14.00">with source configs</text>
</g>
<!-- default_config&#45;&gt;get_config_method -->
<g id="edge2" class="edge">
<title>default_config&#45;&gt;get_config_method</title>
<path fill="none" stroke="#7f7f7f" d="M269.72,-1788.36C277.5,-1759.19 288.85,-1716.59 299.68,-1675.96"/>
<polygon fill="#7f7f7f" stroke="#7f7f7f" points="303.06,-1676.87 302.25,-1666.31 296.3,-1675.07 303.06,-1676.87"/>
<text xml:space="preserve" text-anchor="middle" x="334.75" y="-1685.65" font-family="Times,serif" font-size="14.00">Third priority</text>
</g>
<!-- initial_overrides -->
<g id="node3" class="node">
<title>initial_overrides</title>
<polygon fill="lightyellow" stroke="black" points="548.75,-1871.1 345.25,-1871.1 345.25,-1780.6 554.75,-1780.6 554.75,-1865.1 548.75,-1871.1"/>
<polyline fill="none" stroke="black" points="548.75,-1871.1 548.75,-1865.1"/>
<polyline fill="none" stroke="black" points="554.75,-1865.1 548.75,-1865.1"/>
<text xml:space="preserve" text-anchor="middle" x="450" y="-1853.8" font-family="Times,serif" font-size="14.00">models.py</text>
<text xml:space="preserve" text-anchor="middle" x="450" y="-1837.3" font-family="Times,serif" font-size="14.00">INITIAL_PROFILE_OVERRIDES</text>
<text xml:space="preserve" text-anchor="middle" x="450" y="-1820.8" font-family="Times,serif" font-size="14.00">Better UX defaults</text>
<text xml:space="preserve" text-anchor="middle" x="450" y="-1804.3" font-family="Times,serif" font-size="14.00">SHOW_QWERTY=True</text>
<text xml:space="preserve" text-anchor="middle" x="450" y="-1787.8" font-family="Times,serif" font-size="14.00">SHOW_FINGERS=True</text>
</g>
<!-- initial_overrides&#45;&gt;get_config_method -->
<g id="edge3" class="edge">
<title>initial_overrides&#45;&gt;get_config_method</title>
<path fill="none" stroke="#7f7f7f" d="M430.08,-1780.26C417.2,-1751.42 399.79,-1712.44 383.15,-1675.2"/>
<polygon fill="#7f7f7f" stroke="#7f7f7f" points="386.38,-1673.84 379.1,-1666.14 379.99,-1676.7 386.38,-1673.84"/>
<text xml:space="preserve" text-anchor="middle" x="432.5" y="-1685.65" font-family="Times,serif" font-size="14.00">Second priority</text>
</g>
<!-- profile_overrides -->
<g id="node4" class="node">
<title>profile_overrides</title>
<polygon fill="lightgreen" stroke="black" points="789.12,-1871.1 786.12,-1875.1 765.12,-1875.1 762.12,-1871.1 572.88,-1871.1 572.88,-1780.6 789.12,-1780.6 789.12,-1871.1"/>
<text xml:space="preserve" text-anchor="middle" x="681" y="-1853.8" font-family="Times,serif" font-size="14.00">UserProfile</text>
<text xml:space="preserve" text-anchor="middle" x="681" y="-1837.3" font-family="Times,serif" font-size="14.00">config_overrides</text>
<text xml:space="preserve" text-anchor="middle" x="681" y="-1820.8" font-family="Times,serif" font-size="14.00">User customizations</text>
<text xml:space="preserve" text-anchor="middle" x="681" y="-1804.3" font-family="Times,serif" font-size="14.00">PRACTICE_MODE=&#39;code&#39;</text>
<text xml:space="preserve" text-anchor="middle" x="681" y="-1787.8" font-family="Times,serif" font-size="14.00">CODE_LANGUAGES=&#39;python,rust&#39;</text>
</g>
<!-- profile_overrides&#45;&gt;get_config_method -->
<g id="edge4" class="edge">
<title>profile_overrides&#45;&gt;get_config_method</title>
<path fill="none" stroke="#7f7f7f" d="M635.71,-1780.16C614.57,-1760.08 588.67,-1736.54 564,-1716.95 544.73,-1701.65 524.03,-1686.24 503.22,-1671.35"/>
<polygon fill="#7f7f7f" stroke="#7f7f7f" points="505.38,-1668.6 495.2,-1665.66 501.33,-1674.3 505.38,-1668.6"/>
<text xml:space="preserve" text-anchor="middle" x="574.34" y="-1685.65" font-family="Times,serif" font-size="14.00">First priority</text>
</g>
<!-- merged_config -->
<g id="node6" class="node">
<title>merged_config</title>
<polygon fill="lightyellow" stroke="black" points="394.88,-1352.7 261.12,-1352.7 261.12,-1295.2 400.88,-1295.2 400.88,-1346.7 394.88,-1352.7"/>
<polyline fill="none" stroke="black" points="394.88,-1352.7 394.88,-1346.7"/>
<polyline fill="none" stroke="black" points="400.88,-1346.7 394.88,-1346.7"/>
<text xml:space="preserve" text-anchor="middle" x="331" y="-1335.4" font-family="Times,serif" font-size="14.00">profile.config property</text>
<text xml:space="preserve" text-anchor="middle" x="331" y="-1318.9" font-family="Times,serif" font-size="14.00">Merged dictionary</text>
<text xml:space="preserve" text-anchor="middle" x="331" y="-1302.4" font-family="Times,serif" font-size="14.00">Defaults + overrides</text>
</g>
<!-- get_config_method&#45;&gt;merged_config -->
<g id="edge5" class="edge">
<title>get_config_method&#45;&gt;merged_config</title>
<path fill="none" stroke="#7f7f7f" d="M331,-1450.19C331,-1419.48 331,-1387.87 331,-1364.1"/>
<polygon fill="#7f7f7f" stroke="#7f7f7f" points="334.5,-1364.27 331,-1354.27 327.5,-1364.27 334.5,-1364.27"/>
</g>
<!-- ui_application -->
<g id="node7" class="node">
<title>ui_application</title>
<ellipse fill="lightblue" stroke="black" cx="331" cy="-1139.95" rx="108.36" ry="52.33"/>
<text xml:space="preserve" text-anchor="middle" x="331" y="-1159.65" font-family="Times,serif" font-size="14.00">main.py</text>
<text xml:space="preserve" text-anchor="middle" x="331" y="-1143.15" font-family="Times,serif" font-size="14.00">_get_config(key)</text>
<text xml:space="preserve" text-anchor="middle" x="331" y="-1126.65" font-family="Times,serif" font-size="14.00">Uses profile.get_config()</text>
<text xml:space="preserve" text-anchor="middle" x="331" y="-1110.15" font-family="Times,serif" font-size="14.00">or falls back to config.py</text>
</g>
<!-- merged_config&#45;&gt;ui_application -->
<g id="edge6" class="edge">
<title>merged_config&#45;&gt;ui_application</title>
<path fill="none" stroke="#7f7f7f" d="M331,-1294.91C331,-1270.67 331,-1234.73 331,-1203.67"/>
<polygon fill="#7f7f7f" stroke="#7f7f7f" points="334.5,-1203.99 331,-1193.99 327.5,-1203.99 334.5,-1203.99"/>
</g>
<!-- get_practice_text -->
<g id="node9" class="node">
<title>get_practice_text</title>
<ellipse fill="lightblue" stroke="black" cx="3652" cy="-1557.45" rx="92.98" ry="52.33"/>
<text xml:space="preserve" text-anchor="middle" x="3652" y="-1577.15" font-family="Times,serif" font-size="14.00">main.py</text>
<text xml:space="preserve" text-anchor="middle" x="3652" y="-1560.65" font-family="Times,serif" font-size="14.00">_get_practice_text()</text>
<text xml:space="preserve" text-anchor="middle" x="3652" y="-1544.15" font-family="Times,serif" font-size="14.00">Check practice mode</text>
<text xml:space="preserve" text-anchor="middle" x="3652" y="-1527.65" font-family="Times,serif" font-size="14.00">and generate content</text>
</g>
<!-- merged_config&#45;&gt;get_practice_text -->
<g id="edge64" class="edge">
<title>merged_config&#45;&gt;get_practice_text</title>
<path fill="none" stroke="blue" stroke-dasharray="5,2" d="M401.28,-1328.02C627.46,-1337.77 1356.96,-1368.14 1961,-1381.45 1987.51,-1382.04 3851.34,-1380.61 3870,-1399.45 3922.15,-1452.09 3825.62,-1499.86 3744.86,-1528.53"/>
<polygon fill="blue" stroke="blue" points="3743.82,-1525.19 3735.52,-1531.78 3746.11,-1531.8 3743.82,-1525.19"/>
<text xml:space="preserve" text-anchor="middle" x="3931.26" y="-1419.15" font-family="Times,serif" font-size="14.00">Provides config</text>
<text xml:space="preserve" text-anchor="middle" x="3931.26" y="-1402.65" font-family="Times,serif" font-size="14.00">for all operations</text>
</g>
<!-- profile_config -->
<g id="node8" class="node">
<title>profile_config</title>
<polygon fill="lightgreen" stroke="black" points="3736.12,-1854.6 3733.12,-1858.6 3712.12,-1858.6 3709.12,-1854.6 3567.88,-1854.6 3567.88,-1797.1 3736.12,-1797.1 3736.12,-1854.6"/>
<text xml:space="preserve" text-anchor="middle" x="3652" y="-1837.3" font-family="Times,serif" font-size="14.00">Profile Configuration</text>
<text xml:space="preserve" text-anchor="middle" x="3652" y="-1820.8" font-family="Times,serif" font-size="14.00">PRACTICE_MODE setting</text>
<text xml:space="preserve" text-anchor="middle" x="3652" y="-1804.3" font-family="Times,serif" font-size="14.00">curriculum/sentences/code</text>
</g>
<!-- profile_config&#45;&gt;get_practice_text -->
<g id="edge7" class="edge">
<title>profile_config&#45;&gt;get_practice_text</title>
<path fill="none" stroke="#7f7f7f" d="M3652,-1796.84C3652,-1755.56 3652,-1677.27 3652,-1621.68"/>
<polygon fill="#7f7f7f" stroke="#7f7f7f" points="3655.5,-1621.7 3652,-1611.7 3648.5,-1621.7 3655.5,-1621.7"/>
</g>
<!-- check_prefetched -->
<g id="node10" class="node">
<title>check_prefetched</title>
<polygon fill="orange" stroke="black" points="3513,-1381.45 3339.5,-1323.95 3513,-1266.45 3686.5,-1323.95 3513,-1381.45"/>
<text xml:space="preserve" text-anchor="middle" x="3513" y="-1335.4" font-family="Times,serif" font-size="14.00">Check pre&#45;fetched content</text>
<text xml:space="preserve" text-anchor="middle" x="3513" y="-1318.9" font-family="Times,serif" font-size="14.00">If available for current mode</text>
<text xml:space="preserve" text-anchor="middle" x="3513" y="-1302.4" font-family="Times,serif" font-size="14.00">use it immediately</text>
</g>
<!-- get_practice_text&#45;&gt;check_prefetched -->
<g id="edge8" class="edge">
<title>get_practice_text&#45;&gt;check_prefetched</title>
<path fill="none" stroke="#7f7f7f" d="M3622.52,-1507.36C3600.48,-1470.65 3570.3,-1420.38 3547.2,-1381.9"/>
<polygon fill="#7f7f7f" stroke="#7f7f7f" points="3550.41,-1380.46 3542.26,-1373.69 3544.41,-1384.07 3550.41,-1380.46"/>
</g>
<!-- start_prefetching -->
<g id="node22" class="node">
<title>start_prefetching</title>
<ellipse fill="lightblue" stroke="black" cx="3805" cy="-1323.95" rx="100.94" ry="40.66"/>
<text xml:space="preserve" text-anchor="middle" x="3805" y="-1335.4" font-family="Times,serif" font-size="14.00">_start_prefetching()</text>
<text xml:space="preserve" text-anchor="middle" x="3805" y="-1318.9" font-family="Times,serif" font-size="14.00">Background generation</text>
<text xml:space="preserve" text-anchor="middle" x="3805" y="-1302.4" font-family="Times,serif" font-size="14.00">for next chunk</text>
</g>
<!-- get_practice_text&#45;&gt;start_prefetching -->
<g id="edge20" class="edge">
<title>get_practice_text&#45;&gt;start_prefetching</title>
<path fill="none" stroke="#7f7f7f" d="M3684.07,-1507.92C3710.36,-1468.15 3747.35,-1412.18 3773.48,-1372.64"/>
<polygon fill="#7f7f7f" stroke="#7f7f7f" points="3776.12,-1375 3778.71,-1364.73 3770.28,-1371.14 3776.12,-1375"/>
<text xml:space="preserve" text-anchor="middle" x="3810.64" y="-1419.15" font-family="Times,serif" font-size="14.00">After generation</text>
<text xml:space="preserve" text-anchor="middle" x="3810.64" y="-1402.65" font-family="Times,serif" font-size="14.00">start async pre&#45;fetch</text>
</g>
<!-- curriculum_branch -->
<g id="node11" class="node">
<title>curriculum_branch</title>
<ellipse fill="lightblue" stroke="black" cx="3304" cy="-1139.95" rx="97.76" ry="28.99"/>
<text xml:space="preserve" text-anchor="middle" x="3304" y="-1143.15" font-family="Times,serif" font-size="14.00">Curriculum Mode</text>
<text xml:space="preserve" text-anchor="middle" x="3304" y="-1126.65" font-family="Times,serif" font-size="14.00">generate_lesson_text()</text>
</g>
<!-- check_prefetched&#45;&gt;curriculum_branch -->
<g id="edge9" class="edge">
<title>check_prefetched&#45;&gt;curriculum_branch</title>
<path fill="none" stroke="#7f7f7f" d="M3454.17,-1285.45C3437.89,-1274.21 3420.57,-1261.4 3405.5,-1248.45 3380.01,-1226.54 3354.04,-1198.91 3334.75,-1177.16"/>
<polygon fill="#7f7f7f" stroke="#7f7f7f" points="3337.4,-1174.87 3328.17,-1169.66 3332.14,-1179.49 3337.4,-1174.87"/>
<text xml:space="preserve" text-anchor="middle" x="3457.25" y="-1235.15" font-family="Times,serif" font-size="14.00">mode=&#39;curriculum&#39;</text>
<text xml:space="preserve" text-anchor="middle" x="3457.25" y="-1218.65" font-family="Times,serif" font-size="14.00">&amp; no pre&#45;fetch</text>
</g>
<!-- sentences_branch -->
<g id="node12" class="node">
<title>sentences_branch</title>
<ellipse fill="lightblue" stroke="black" cx="3513" cy="-1139.95" rx="87.68" ry="28.99"/>
<text xml:space="preserve" text-anchor="middle" x="3513" y="-1143.15" font-family="Times,serif" font-size="14.00">Sentences Mode</text>
<text xml:space="preserve" text-anchor="middle" x="3513" y="-1126.65" font-family="Times,serif" font-size="14.00">generate_sentence()</text>
</g>
<!-- check_prefetched&#45;&gt;sentences_branch -->
<g id="edge10" class="edge">
<title>check_prefetched&#45;&gt;sentences_branch</title>
<path fill="none" stroke="#7f7f7f" d="M3513,-1266.36C3513,-1238.53 3513,-1205.66 3513,-1180.55"/>
<polygon fill="#7f7f7f" stroke="#7f7f7f" points="3516.5,-1180.77 3513,-1170.77 3509.5,-1180.77 3516.5,-1180.77"/>
<text xml:space="preserve" text-anchor="middle" x="3560.62" y="-1235.15" font-family="Times,serif" font-size="14.00">mode=&#39;sentences&#39;</text>
<text xml:space="preserve" text-anchor="middle" x="3560.62" y="-1218.65" font-family="Times,serif" font-size="14.00">&amp; no pre&#45;fetch</text>
</g>
<!-- code_branch -->
<g id="node13" class="node">
<title>code_branch</title>
<ellipse fill="lightblue" stroke="black" cx="3781" cy="-1139.95" rx="105.18" ry="28.99"/>
<text xml:space="preserve" text-anchor="middle" x="3781" y="-1143.15" font-family="Times,serif" font-size="14.00">Code Mode</text>
<text xml:space="preserve" text-anchor="middle" x="3781" y="-1126.65" font-family="Times,serif" font-size="14.00">generate_code_snippet()</text>
</g>
<!-- check_prefetched&#45;&gt;code_branch -->
<g id="edge11" class="edge">
<title>check_prefetched&#45;&gt;code_branch</title>
<path fill="none" stroke="#7f7f7f" d="M3569.18,-1284.8C3617.62,-1251.91 3686.81,-1204.92 3732.77,-1173.7"/>
<polygon fill="#7f7f7f" stroke="#7f7f7f" points="3734.65,-1176.66 3740.96,-1168.14 3730.72,-1170.87 3734.65,-1176.66"/>
<text xml:space="preserve" text-anchor="middle" x="3711.5" y="-1235.15" font-family="Times,serif" font-size="14.00">mode=&#39;code&#39;</text>
<text xml:space="preserve" text-anchor="middle" x="3711.5" y="-1218.65" font-family="Times,serif" font-size="14.00">&amp; no pre&#45;fetch</text>
</g>
<!-- lesson_index -->
<g id="node14" class="node">
<title>lesson_index</title>
<polygon fill="lightyellow" stroke="black" points="3342.62,-943.45 3177.38,-943.45 3177.38,-902.45 3348.62,-902.45 3348.62,-937.45 3342.62,-943.45"/>
<polyline fill="none" stroke="black" points="3342.62,-943.45 3342.62,-937.45"/>
<polyline fill="none" stroke="black" points="3348.62,-937.45 3342.62,-937.45"/>
<text xml:space="preserve" text-anchor="middle" x="3263" y="-926.15" font-family="Times,serif" font-size="14.00">profile.current_lesson_index</text>
<text xml:space="preserve" text-anchor="middle" x="3263" y="-909.65" font-family="Times,serif" font-size="14.00">Current lesson position</text>
</g>
<!-- curriculum_branch&#45;&gt;lesson_index -->
<g id="edge12" class="edge">
<title>curriculum_branch&#45;&gt;lesson_index</title>
<path fill="none" stroke="#7f7f7f" d="M3298.64,-1110.84C3290.96,-1070.56 3276.87,-996.68 3268.9,-954.89"/>
<polygon fill="#7f7f7f" stroke="#7f7f7f" points="3272.37,-954.41 3267.06,-945.24 3265.5,-955.72 3272.37,-954.41"/>
</g>
<!-- algorithm_dispatch -->
<g id="node16" class="node">
<title>algorithm_dispatch</title>
<polygon fill="orange" stroke="black" points="3300,-579.45 3164.75,-538.45 3300,-497.45 3435.25,-538.45 3300,-579.45"/>
<text xml:space="preserve" text-anchor="middle" x="3300" y="-541.65" font-family="Times,serif" font-size="14.00">Dispatch to algorithm</text>
<text xml:space="preserve" text-anchor="middle" x="3300" y="-525.15" font-family="Times,serif" font-size="14.00">based on lesson.algo</text>
</g>
<!-- curriculum_branch&#45;&gt;algorithm_dispatch -->
<g id="edge65" class="edge">
<title>curriculum_branch&#45;&gt;algorithm_dispatch</title>
<path fill="none" stroke="blue" stroke-dasharray="5,2" d="M3319.89,-1111.13C3333.05,-1086.39 3350.73,-1048.76 3358,-1013.45 3374.23,-934.66 3364.23,-912.65 3358,-832.45 3357.16,-821.69 3330.28,-651 3328,-640.45 3324.19,-622.8 3319.12,-603.65 3314.35,-586.82"/>
<polygon fill="blue" stroke="blue" points="3317.82,-586.23 3311.69,-577.59 3311.09,-588.17 3317.82,-586.23"/>
<text xml:space="preserve" text-anchor="middle" x="3409.77" y="-792.9" font-family="Times,serif" font-size="14.00">Algorithm selection</text>
</g>
<!-- sentence_source -->
<g id="node17" class="node">
<title>sentence_source</title>
<polygon fill="lightyellow" stroke="black" points="3598.62,-943.45 3421.38,-943.45 3421.38,-902.45 3604.62,-902.45 3604.62,-937.45 3598.62,-943.45"/>
<polyline fill="none" stroke="black" points="3598.62,-943.45 3598.62,-937.45"/>
<polyline fill="none" stroke="black" points="3604.62,-937.45 3598.62,-937.45"/>
<text xml:space="preserve" text-anchor="middle" x="3513" y="-926.15" font-family="Times,serif" font-size="14.00">SENTENCE_SOURCE config</text>
<text xml:space="preserve" text-anchor="middle" x="3513" y="-909.65" font-family="Times,serif" font-size="14.00">local/file/api/cmd</text>
</g>
<!-- sentences_branch&#45;&gt;sentence_source -->
<g id="edge15" class="edge">
<title>sentences_branch&#45;&gt;sentence_source</title>
<path fill="none" stroke="#7f7f7f" d="M3513,-1110.84C3513,-1070.65 3513,-996.99 3513,-955.15"/>
<polygon fill="#7f7f7f" stroke="#7f7f7f" points="3516.5,-955.27 3513,-945.27 3509.5,-955.27 3516.5,-955.27"/>
</g>
<!-- source_dispatch -->
<g id="node18" class="node">
<title>source_dispatch</title>
<polygon fill="orange" stroke="black" points="3513,-723.95 3357.14,-705.95 3513,-687.95 3668.86,-705.95 3513,-723.95"/>
<text xml:space="preserve" text-anchor="middle" x="3513" y="-700.9" font-family="Times,serif" font-size="14.00">Dispatch to source handler</text>
</g>
<!-- sentences_branch&#45;&gt;source_dispatch -->
<g id="edge66" class="edge">
<title>sentences_branch&#45;&gt;source_dispatch</title>
<path fill="none" stroke="blue" stroke-dasharray="5,2" d="M3543.44,-1112.57C3567.78,-1089.3 3600.06,-1053.02 3614,-1013.45 3640.74,-937.58 3640.74,-908.32 3614,-832.45 3599.28,-790.69 3564.13,-752.58 3539.46,-729.58"/>
<polygon fill="blue" stroke="blue" points="3542.09,-727.24 3532.34,-723.11 3537.39,-732.42 3542.09,-727.24"/>
<text xml:space="preserve" text-anchor="middle" x="3678.68" y="-917.9" font-family="Times,serif" font-size="14.00">Source selection</text>
</g>
<!-- code_languages -->
<g id="node19" class="node">
<title>code_languages</title>
<polygon fill="lightyellow" stroke="black" points="3938.12,-943.45 3763.88,-943.45 3763.88,-902.45 3944.12,-902.45 3944.12,-937.45 3938.12,-943.45"/>
<polyline fill="none" stroke="black" points="3938.12,-943.45 3938.12,-937.45"/>
<polyline fill="none" stroke="black" points="3944.12,-937.45 3938.12,-937.45"/>
<text xml:space="preserve" text-anchor="middle" x="3854" y="-926.15" font-family="Times,serif" font-size="14.00">CODE_LANGUAGES config</text>
<text xml:space="preserve" text-anchor="middle" x="3854" y="-909.65" font-family="Times,serif" font-size="14.00">python,rust,c,cpp</text>
</g>
<!-- code_branch&#45;&gt;code_languages -->
<g id="edge17" class="edge">
<title>code_branch&#45;&gt;code_languages</title>
<path fill="none" stroke="#7f7f7f" d="M3790.54,-1110.84C3804.25,-1070.48 3829.42,-996.36 3843.59,-954.62"/>
<polygon fill="#7f7f7f" stroke="#7f7f7f" points="3846.89,-955.78 3846.79,-945.19 3840.26,-953.53 3846.89,-955.78"/>
</g>
<!-- code_source -->
<g id="node21" class="node">
<title>code_source</title>
<polygon fill="lightyellow" stroke="black" points="3929.5,-558.95 3784.5,-558.95 3784.5,-517.95 3935.5,-517.95 3935.5,-552.95 3929.5,-558.95"/>
<polyline fill="none" stroke="black" points="3929.5,-558.95 3929.5,-552.95"/>
<polyline fill="none" stroke="black" points="3935.5,-552.95 3929.5,-552.95"/>
<text xml:space="preserve" text-anchor="middle" x="3860" y="-541.65" font-family="Times,serif" font-size="14.00">CODE_SOURCE config</text>
<text xml:space="preserve" text-anchor="middle" x="3860" y="-525.15" font-family="Times,serif" font-size="14.00">local/file/cmd/ai</text>
</g>
<!-- code_branch&#45;&gt;code_source -->
<g id="edge67" class="edge">
<title>code_branch&#45;&gt;code_source</title>
<path fill="none" stroke="blue" stroke-dasharray="5,2" d="M3830.86,-1114.15C3869.47,-1092.54 3921.51,-1057.73 3953,-1013.45 4015.48,-925.61 3967.94,-873.68 4023.75,-781.45 4029.65,-771.7 4037.6,-773.96 4042,-763.45 4063.09,-713.02 4069.73,-687.56 4042,-640.45 4020.22,-603.45 3979.44,-579.04 3942,-563.5"/>
<polygon fill="blue" stroke="blue" points="3943.54,-560.34 3932.95,-559.91 3940.96,-566.85 3943.54,-560.34"/>
<text xml:space="preserve" text-anchor="middle" x="4083.38" y="-792.9" font-family="Times,serif" font-size="14.00">Code source selection</text>
</g>
<!-- lesson_config -->
<g id="node15" class="node">
<title>lesson_config</title>
<polygon fill="lightyellow" stroke="black" points="3313,-734.7 3165,-734.7 3165,-677.2 3319,-677.2 3319,-728.7 3313,-734.7"/>
<polyline fill="none" stroke="black" points="3313,-734.7 3313,-728.7"/>
<polyline fill="none" stroke="black" points="3319,-728.7 3313,-728.7"/>
<text xml:space="preserve" text-anchor="middle" x="3242" y="-717.4" font-family="Times,serif" font-size="14.00">curriculum.py</text>
<text xml:space="preserve" text-anchor="middle" x="3242" y="-700.9" font-family="Times,serif" font-size="14.00">LESSONS[lesson_index]</text>
<text xml:space="preserve" text-anchor="middle" x="3242" y="-684.4" font-family="Times,serif" font-size="14.00">Get lesson definition</text>
</g>
<!-- lesson_index&#45;&gt;lesson_config -->
<g id="edge13" class="edge">
<title>lesson_index&#45;&gt;lesson_config</title>
<path fill="none" stroke="#7f7f7f" d="M3261.06,-902.11C3257.62,-866.82 3250.36,-792.54 3245.86,-746.48"/>
<polygon fill="#7f7f7f" stroke="#7f7f7f" points="3249.36,-746.26 3244.9,-736.65 3242.39,-746.94 3249.36,-746.26"/>
</g>
<!-- lesson_config&#45;&gt;algorithm_dispatch -->
<g id="edge14" class="edge">
<title>lesson_config&#45;&gt;algorithm_dispatch</title>
<path fill="none" stroke="#7f7f7f" d="M3251.84,-676.88C3260.49,-652.18 3273.27,-615.72 3283.49,-586.57"/>
<polygon fill="#7f7f7f" stroke="#7f7f7f" points="3286.76,-587.81 3286.77,-577.22 3280.16,-585.5 3286.76,-587.81"/>
</g>
<!-- sentence_source&#45;&gt;source_dispatch -->
<g id="edge16" class="edge">
<title>sentence_source&#45;&gt;source_dispatch</title>
<path fill="none" stroke="#7f7f7f" d="M3513,-902.11C3513,-863.91 3513,-780.02 3513,-735.7"/>
<polygon fill="#7f7f7f" stroke="#7f7f7f" points="3516.5,-735.83 3513,-725.83 3509.5,-735.83 3516.5,-735.83"/>
</g>
<!-- language_selection -->
<g id="node20" class="node">
<title>language_selection</title>
<polygon fill="lightblue" stroke="black" points="4032.88,-746.95 3757.87,-746.95 3687.12,-664.95 3962.13,-664.95 4032.88,-746.95"/>
<text xml:space="preserve" text-anchor="middle" x="3860" y="-709.15" font-family="Times,serif" font-size="14.00">Random language selection</text>
<text xml:space="preserve" text-anchor="middle" x="3860" y="-692.65" font-family="Times,serif" font-size="14.00">from configured list</text>
</g>
<!-- code_languages&#45;&gt;language_selection -->
<g id="edge18" class="edge">
<title>code_languages&#45;&gt;language_selection</title>
<path fill="none" stroke="#7f7f7f" d="M3854.55,-902.11C3855.46,-869.72 3857.28,-804.47 3858.57,-758.36"/>
<polygon fill="#7f7f7f" stroke="#7f7f7f" points="3862.06,-758.68 3858.84,-748.59 3855.06,-758.49 3862.06,-758.68"/>
</g>
<!-- language_selection&#45;&gt;code_source -->
<g id="edge19" class="edge">
<title>language_selection&#45;&gt;code_source</title>
<path fill="none" stroke="#7f7f7f" d="M3860,-664.47C3860,-635.42 3860,-596.88 3860,-570.31"/>
<polygon fill="#7f7f7f" stroke="#7f7f7f" points="3863.5,-570.53 3860,-560.53 3856.5,-570.53 3863.5,-570.53"/>
</g>
<!-- sentence_local -->
<g id="node23" class="node">
<title>sentence_local</title>
<ellipse fill="lightblue" stroke="black" cx="5583" cy="-1825.85" rx="97.23" ry="40.66"/>
<text xml:space="preserve" text-anchor="middle" x="5583" y="-1837.3" font-family="Times,serif" font-size="14.00">Local Source</text>
<text xml:space="preserve" text-anchor="middle" x="5583" y="-1820.8" font-family="Times,serif" font-size="14.00">Use SENTENCES list</text>
<text xml:space="preserve" text-anchor="middle" x="5583" y="-1804.3" font-family="Times,serif" font-size="14.00">from curriculum.py</text>
</g>
<!-- fallback_chain -->
<g id="node32" class="node">
<title>fallback_chain</title>
<polygon fill="lightblue" stroke="black" points="6517.43,-1614.95 6228.81,-1614.95 6154.57,-1499.95 6443.19,-1499.95 6517.43,-1614.95"/>
<text xml:space="preserve" text-anchor="middle" x="6336" y="-1568.9" font-family="Times,serif" font-size="14.00">Fallback Chain</text>
<text xml:space="preserve" text-anchor="middle" x="6336" y="-1552.4" font-family="Times,serif" font-size="14.00">If source fails → next source</text>
<text xml:space="preserve" text-anchor="middle" x="6336" y="-1535.9" font-family="Times,serif" font-size="14.00">API → file → local</text>
</g>
<!-- sentence_local&#45;&gt;fallback_chain -->
<g id="edge21" class="edge">
<title>sentence_local&#45;&gt;fallback_chain</title>
<path fill="none" stroke="#7f7f7f" d="M5611.44,-1786.54C5630.81,-1763.1 5658.42,-1734.35 5689,-1716.95 5845.55,-1627.89 6051.09,-1588.53 6188.07,-1571.36"/>
<polygon fill="#7f7f7f" stroke="#7f7f7f" points="6188.45,-1574.84 6197.95,-1570.15 6187.6,-1567.89 6188.45,-1574.84"/>
</g>
<!-- sentence_file -->
<g id="node24" class="node">
<title>sentence_file</title>
<ellipse fill="lightblue" stroke="black" cx="5796" cy="-1825.85" rx="97.76" ry="40.66"/>
<text xml:space="preserve" text-anchor="middle" x="5796" y="-1837.3" font-family="Times,serif" font-size="14.00">File Source</text>
<text xml:space="preserve" text-anchor="middle" x="5796" y="-1820.8" font-family="Times,serif" font-size="14.00">Read sentences.txt</text>
<text xml:space="preserve" text-anchor="middle" x="5796" y="-1804.3" font-family="Times,serif" font-size="14.00">Random line selection</text>
</g>
<!-- sentence_file&#45;&gt;fallback_chain -->
<g id="edge22" class="edge">
<title>sentence_file&#45;&gt;fallback_chain</title>
<path fill="none" stroke="#7f7f7f" d="M5825.78,-1786.9C5845.38,-1764.03 5872.75,-1735.79 5902,-1716.95 5993.76,-1657.85 6110.6,-1616.79 6199.92,-1591.3"/>
<polygon fill="#7f7f7f" stroke="#7f7f7f" points="6200.82,-1594.68 6209.49,-1588.6 6198.92,-1587.95 6200.82,-1594.68"/>
</g>
<!-- sentence_api -->
<g id="node25" class="node">
<title>sentence_api</title>
<ellipse fill="lightblue" stroke="black" cx="6007" cy="-1825.85" rx="95.64" ry="40.66"/>
<text xml:space="preserve" text-anchor="middle" x="6007" y="-1837.3" font-family="Times,serif" font-size="14.00">API Source</text>
<text xml:space="preserve" text-anchor="middle" x="6007" y="-1820.8" font-family="Times,serif" font-size="14.00">Fetch from quote API</text>
<text xml:space="preserve" text-anchor="middle" x="6007" y="-1804.3" font-family="Times,serif" font-size="14.00">Parse JSON response</text>
</g>
<!-- sentence_api&#45;&gt;fallback_chain -->
<g id="edge23" class="edge">
<title>sentence_api&#45;&gt;fallback_chain</title>
<path fill="none" stroke="#7f7f7f" d="M6040.2,-1787.46C6060.12,-1765.88 6086.47,-1738.78 6112,-1716.95 6151.55,-1683.13 6198.14,-1649.31 6238.55,-1621.65"/>
<polygon fill="#7f7f7f" stroke="#7f7f7f" points="6240.33,-1624.68 6246.63,-1616.16 6236.39,-1618.89 6240.33,-1624.68"/>
</g>
<!-- sentence_cmd -->
<g id="node26" class="node">
<title>sentence_cmd</title>
<ellipse fill="lightblue" stroke="black" cx="6225" cy="-1825.85" rx="104.12" ry="40.66"/>
<text xml:space="preserve" text-anchor="middle" x="6225" y="-1837.3" font-family="Times,serif" font-size="14.00">Command Source</text>
<text xml:space="preserve" text-anchor="middle" x="6225" y="-1820.8" font-family="Times,serif" font-size="14.00">Execute shell command</text>
<text xml:space="preserve" text-anchor="middle" x="6225" y="-1804.3" font-family="Times,serif" font-size="14.00">Use output as text</text>
</g>
<!-- sentence_cmd&#45;&gt;fallback_chain -->
<g id="edge24" class="edge">
<title>sentence_cmd&#45;&gt;fallback_chain</title>
<path fill="none" stroke="#7f7f7f" d="M6241.5,-1785.25C6259.03,-1743.17 6287.07,-1675.88 6308.06,-1625.51"/>
<polygon fill="#7f7f7f" stroke="#7f7f7f" points="6311.23,-1627 6311.84,-1616.43 6304.77,-1624.31 6311.23,-1627"/>
</g>
<!-- code_local -->
<g id="node27" class="node">
<title>code_local</title>
<ellipse fill="lightblue" stroke="black" cx="6447" cy="-1825.85" rx="99.88" ry="40.66"/>
<text xml:space="preserve" text-anchor="middle" x="6447" y="-1837.3" font-family="Times,serif" font-size="14.00">Local Code</text>
<text xml:space="preserve" text-anchor="middle" x="6447" y="-1820.8" font-family="Times,serif" font-size="14.00">Read snippets.py</text>
<text xml:space="preserve" text-anchor="middle" x="6447" y="-1804.3" font-family="Times,serif" font-size="14.00">Random function/class</text>
</g>
<!-- code_local&#45;&gt;fallback_chain -->
<g id="edge25" class="edge">
<title>code_local&#45;&gt;fallback_chain</title>
<path fill="none" stroke="#7f7f7f" d="M6430.5,-1785.25C6412.97,-1743.17 6384.93,-1675.88 6363.94,-1625.51"/>
<polygon fill="#7f7f7f" stroke="#7f7f7f" points="6367.23,-1624.31 6360.16,-1616.43 6360.77,-1627 6367.23,-1624.31"/>
</g>
<!-- code_file -->
<g id="node28" class="node">
<title>code_file</title>
<ellipse fill="lightblue" stroke="black" cx="6647" cy="-1825.85" rx="81.85" ry="40.66"/>
<text xml:space="preserve" text-anchor="middle" x="6647" y="-1837.3" font-family="Times,serif" font-size="14.00">File Code</text>
<text xml:space="preserve" text-anchor="middle" x="6647" y="-1820.8" font-family="Times,serif" font-size="14.00">Read external file</text>
<text xml:space="preserve" text-anchor="middle" x="6647" y="-1804.3" font-family="Times,serif" font-size="14.00">Language&#45;specific</text>
</g>
<!-- code_file&#45;&gt;fallback_chain -->
<g id="edge26" class="edge">
<title>code_file&#45;&gt;fallback_chain</title>
<path fill="none" stroke="#7f7f7f" d="M6619.15,-1787.39C6602.11,-1765.66 6579.19,-1738.43 6556,-1716.95 6518.84,-1682.52 6474.04,-1649.03 6434.59,-1621.77"/>
<polygon fill="#7f7f7f" stroke="#7f7f7f" points="6436.69,-1618.96 6426.46,-1616.19 6432.73,-1624.73 6436.69,-1618.96"/>
</g>
<!-- code_cmd -->
<g id="node29" class="node">
<title>code_cmd</title>
<ellipse fill="lightblue" stroke="black" cx="6830" cy="-1825.85" rx="83.44" ry="40.66"/>
<text xml:space="preserve" text-anchor="middle" x="6830" y="-1837.3" font-family="Times,serif" font-size="14.00">Command Code</text>
<text xml:space="preserve" text-anchor="middle" x="6830" y="-1820.8" font-family="Times,serif" font-size="14.00">Execute command</text>
<text xml:space="preserve" text-anchor="middle" x="6830" y="-1804.3" font-family="Times,serif" font-size="14.00">e.g., &#39;grep &#45;r def .&#39;</text>
</g>
<!-- code_cmd&#45;&gt;fallback_chain -->
<g id="edge27" class="edge">
<title>code_cmd&#45;&gt;fallback_chain</title>
<path fill="none" stroke="#7f7f7f" d="M6804.77,-1786.72C6788.08,-1763.93 6764.44,-1735.84 6738,-1716.95 6673.85,-1671.14 6594.63,-1636.23 6523.52,-1610.99"/>
<polygon fill="#7f7f7f" stroke="#7f7f7f" points="6525.11,-1607.84 6514.52,-1607.84 6522.8,-1614.45 6525.11,-1607.84"/>
</g>
<!-- code_ai -->
<g id="node30" class="node">
<title>code_ai</title>
<ellipse fill="lightblue" stroke="black" cx="7028" cy="-1825.85" rx="96.7" ry="40.66"/>
<text xml:space="preserve" text-anchor="middle" x="7028" y="-1837.3" font-family="Times,serif" font-size="14.00">AI Generation</text>
<text xml:space="preserve" text-anchor="middle" x="7028" y="-1820.8" font-family="Times,serif" font-size="14.00">Ollama/OpenAI API</text>
<text xml:space="preserve" text-anchor="middle" x="7028" y="-1804.3" font-family="Times,serif" font-size="14.00">Generate code snippet</text>
</g>
<!-- code_ai&#45;&gt;fallback_chain -->
<g id="edge28" class="edge">
<title>code_ai&#45;&gt;fallback_chain</title>
<path fill="none" stroke="#7f7f7f" d="M6999.42,-1786.79C6979.99,-1763.44 6952.37,-1734.72 6922,-1716.95 6793.2,-1641.62 6627.63,-1601.13 6505.36,-1579.99"/>
<polygon fill="#7f7f7f" stroke="#7f7f7f" points="6505.97,-1576.55 6495.52,-1578.32 6504.8,-1583.45 6505.97,-1576.55"/>
</g>
<!-- normalize_text -->
<g id="node31" class="node">
<title>normalize_text</title>
<ellipse fill="lightblue" stroke="black" cx="6336" cy="-1323.95" rx="99.88" ry="52.33"/>
<text xml:space="preserve" text-anchor="middle" x="6336" y="-1343.65" font-family="Times,serif" font-size="14.00">text_normalizer.py</text>
<text xml:space="preserve" text-anchor="middle" x="6336" y="-1327.15" font-family="Times,serif" font-size="14.00">normalize_text()</text>
<text xml:space="preserve" text-anchor="middle" x="6336" y="-1310.65" font-family="Times,serif" font-size="14.00">Clean whitespace</text>
<text xml:space="preserve" text-anchor="middle" x="6336" y="-1294.15" font-family="Times,serif" font-size="14.00">Standardize formatting</text>
</g>
<!-- target_keys_gen -->
<g id="node33" class="node">
<title>target_keys_gen</title>
<ellipse fill="lightblue" stroke="black" cx="6336" cy="-1139.95" rx="126.4" ry="40.66"/>
<text xml:space="preserve" text-anchor="middle" x="6336" y="-1151.4" font-family="Times,serif" font-size="14.00">Generate target_keys</text>
<text xml:space="preserve" text-anchor="middle" x="6336" y="-1134.9" font-family="Times,serif" font-size="14.00">_sentence_to_physical_keys()</text>
<text xml:space="preserve" text-anchor="middle" x="6336" y="-1118.4" font-family="Times,serif" font-size="14.00">For validation</text>
</g>
<!-- normalize_text&#45;&gt;target_keys_gen -->
<g id="edge30" class="edge">
<title>normalize_text&#45;&gt;target_keys_gen</title>
<path fill="none" stroke="#7f7f7f" d="M6336,-1271.28C6336,-1246.52 6336,-1216.94 6336,-1192.22"/>
<polygon fill="#7f7f7f" stroke="#7f7f7f" points="6339.5,-1192.4 6336,-1182.4 6332.5,-1192.4 6339.5,-1192.4"/>
</g>
<!-- fallback_chain&#45;&gt;normalize_text -->
<g id="edge29" class="edge">
<title>fallback_chain&#45;&gt;normalize_text</title>
<path fill="none" stroke="#7f7f7f" d="M6336,-1499.52C6336,-1465.73 6336,-1422.81 6336,-1387.99"/>
<polygon fill="#7f7f7f" stroke="#7f7f7f" points="6339.5,-1388.03 6336,-1378.03 6332.5,-1388.03 6339.5,-1388.03"/>
</g>
<!-- final_output -->
<g id="node34" class="node">
<title>final_output</title>
<polygon fill="lightyellow" stroke="black" points="6401.38,-951.7 6264.62,-951.7 6264.62,-894.2 6407.38,-894.2 6407.38,-945.7 6401.38,-951.7"/>
<polyline fill="none" stroke="black" points="6401.38,-951.7 6401.38,-945.7"/>
<polyline fill="none" stroke="black" points="6407.38,-945.7 6401.38,-945.7"/>
<text xml:space="preserve" text-anchor="middle" x="6336" y="-934.4" font-family="Times,serif" font-size="14.00">Final Practice Text</text>
<text xml:space="preserve" text-anchor="middle" x="6336" y="-917.9" font-family="Times,serif" font-size="14.00">Ready for typing</text>
<text xml:space="preserve" text-anchor="middle" x="6336" y="-901.4" font-family="Times,serif" font-size="14.00">with target_keys stored</text>
</g>
<!-- target_keys_gen&#45;&gt;final_output -->
<g id="edge31" class="edge">
<title>target_keys_gen&#45;&gt;final_output</title>
<path fill="none" stroke="#7f7f7f" d="M6336,-1099.02C6336,-1060.28 6336,-1001.85 6336,-963.31"/>
<polygon fill="#7f7f7f" stroke="#7f7f7f" points="6339.5,-963.55 6336,-953.55 6332.5,-963.55 6339.5,-963.55"/>
</g>
<!-- target_keys -->
<g id="node48" class="node">
<title>target_keys</title>
<polygon fill="lightyellow" stroke="black" points="4733.62,-1586.2 4592.38,-1586.2 4592.38,-1528.7 4739.62,-1528.7 4739.62,-1580.2 4733.62,-1586.2"/>
<polyline fill="none" stroke="black" points="4733.62,-1586.2 4733.62,-1580.2"/>
<polyline fill="none" stroke="black" points="4739.62,-1580.2 4733.62,-1580.2"/>
<text xml:space="preserve" text-anchor="middle" x="4666" y="-1568.9" font-family="Times,serif" font-size="14.00">target_keys list</text>
<text xml:space="preserve" text-anchor="middle" x="4666" y="-1552.4" font-family="Times,serif" font-size="14.00">Expected physical keys</text>
<text xml:space="preserve" text-anchor="middle" x="4666" y="-1535.9" font-family="Times,serif" font-size="14.00">from content generation</text>
</g>
<!-- final_output&#45;&gt;target_keys -->
<g id="edge68" class="edge">
<title>final_output&#45;&gt;target_keys</title>
<path fill="none" stroke="blue" stroke-dasharray="5,2" d="M6264.38,-932.1C5995.63,-962.75 5061.88,-1069.83 5050,-1079.63 5007.55,-1114.64 5049.92,-1157.58 5012,-1197.45 4996.44,-1213.81 4977.33,-1196.87 4964.5,-1215.45 4956.17,-1227.52 4960.12,-1234.46 4964.5,-1248.45 4967.41,-1257.75 4974.09,-1257.16 4977,-1266.45 4992.27,-1315.23 5002.8,-1337.33 4977,-1381.45 4928.56,-1464.29 4824.9,-1510.95 4750.56,-1534.88"/>
<polygon fill="blue" stroke="blue" points="4749.76,-1531.47 4741.26,-1537.8 4751.85,-1538.15 4749.76,-1531.47"/>
<text xml:space="preserve" text-anchor="middle" x="5007.25" y="-1235.15" font-family="Times,serif" font-size="14.00">Generated text</text>
<text xml:space="preserve" text-anchor="middle" x="5007.25" y="-1218.65" font-family="Times,serif" font-size="14.00">and target_keys</text>
</g>
<!-- user_typing -->
<g id="node35" class="node">
<title>user_typing</title>
<ellipse fill="pink" stroke="black" cx="5150" cy="-1825.85" rx="66.47" ry="66.47"/>
<text xml:space="preserve" text-anchor="middle" x="5150" y="-1829.05" font-family="Times,serif" font-size="14.00">User Typing</text>
<text xml:space="preserve" text-anchor="middle" x="5150" y="-1812.55" font-family="Times,serif" font-size="14.00">Current chunk</text>
</g>
<!-- start_prefetch -->
<g id="node36" class="node">
<title>start_prefetch</title>
<ellipse fill="lightblue" stroke="black" cx="5150" cy="-1557.45" rx="88.21" ry="40.66"/>
<text xml:space="preserve" text-anchor="middle" x="5150" y="-1568.9" font-family="Times,serif" font-size="14.00">_start_prefetching()</text>
<text xml:space="preserve" text-anchor="middle" x="5150" y="-1552.4" font-family="Times,serif" font-size="14.00">Called after getting</text>
<text xml:space="preserve" text-anchor="middle" x="5150" y="-1535.9" font-family="Times,serif" font-size="14.00">current practice text</text>
</g>
<!-- user_typing&#45;&gt;start_prefetch -->
<g id="edge32" class="edge">
<title>user_typing&#45;&gt;start_prefetch</title>
<path fill="none" stroke="#7f7f7f" d="M5150,-1759C5150,-1712.94 5150,-1652.31 5150,-1609.82"/>
<polygon fill="#7f7f7f" stroke="#7f7f7f" points="5153.5,-1609.86 5150,-1599.86 5146.5,-1609.86 5153.5,-1609.86"/>
<text xml:space="preserve" text-anchor="middle" x="5206.62" y="-1685.65" font-family="Times,serif" font-size="14.00">After text generation</text>
</g>
<!-- background_task -->
<g id="node37" class="node">
<title>background_task</title>
<polygon fill="lightgreen" stroke="black" points="5238.88,-1352.7 5087.12,-1352.7 5087.12,-1348.7 5083.12,-1348.7 5083.12,-1344.7 5087.12,-1344.7 5087.12,-1303.2 5083.12,-1303.2 5083.12,-1299.2 5087.12,-1299.2 5087.12,-1295.2 5238.88,-1295.2 5238.88,-1352.7"/>
<polyline fill="none" stroke="black" points="5087.12,-1348.7 5091.12,-1348.7 5091.12,-1344.7 5087.12,-1344.7"/>
<polyline fill="none" stroke="black" points="5087.12,-1303.2 5091.12,-1303.2 5091.12,-1299.2 5087.12,-1299.2"/>
<text xml:space="preserve" text-anchor="middle" x="5163" y="-1335.4" font-family="Times,serif" font-size="14.00">Background Task</text>
<text xml:space="preserve" text-anchor="middle" x="5163" y="-1318.9" font-family="Times,serif" font-size="14.00">asyncio.create_task()</text>
<text xml:space="preserve" text-anchor="middle" x="5163" y="-1302.4" font-family="Times,serif" font-size="14.00">Non&#45;blocking generation</text>
</g>
<!-- start_prefetch&#45;&gt;background_task -->
<g id="edge33" class="edge">
<title>start_prefetch&#45;&gt;background_task</title>
<path fill="none" stroke="#7f7f7f" d="M5152.25,-1516.39C5154.65,-1473.69 5158.42,-1406.51 5160.8,-1364.14"/>
<polygon fill="#7f7f7f" stroke="#7f7f7f" points="5164.28,-1364.59 5161.35,-1354.4 5157.29,-1364.19 5164.28,-1364.59"/>
</g>
<!-- generate_next -->
<g id="node38" class="node">
<title>generate_next</title>
<ellipse fill="lightblue" stroke="black" cx="5182" cy="-1139.95" rx="90.86" ry="40.66"/>
<text xml:space="preserve" text-anchor="middle" x="5182" y="-1151.4" font-family="Times,serif" font-size="14.00">Generate next chunk</text>
<text xml:space="preserve" text-anchor="middle" x="5182" y="-1134.9" font-family="Times,serif" font-size="14.00">Same mode/config</text>
<text xml:space="preserve" text-anchor="middle" x="5182" y="-1118.4" font-family="Times,serif" font-size="14.00">as current session</text>
</g>
<!-- background_task&#45;&gt;generate_next -->
<g id="edge34" class="edge">
<title>background_task&#45;&gt;generate_next</title>
<path fill="none" stroke="#7f7f7f" d="M5165.93,-1294.91C5168.78,-1267.62 5173.17,-1225.5 5176.65,-1192.22"/>
<polygon fill="#7f7f7f" stroke="#7f7f7f" points="5180.12,-1192.66 5177.68,-1182.35 5173.16,-1191.94 5180.12,-1192.66"/>
</g>
<!-- store_prefetched -->
<g id="node39" class="node">
<title>store_prefetched</title>
<polygon fill="lightblue" stroke="black" points="5342.22,-1013.45 5119.16,-1013.45 5061.78,-832.45 5284.84,-832.45 5342.22,-1013.45"/>
<text xml:space="preserve" text-anchor="middle" x="5202" y="-950.9" font-family="Times,serif" font-size="14.00">Store in cache</text>
<text xml:space="preserve" text-anchor="middle" x="5202" y="-934.4" font-family="Times,serif" font-size="14.00">_prefetched_text</text>
<text xml:space="preserve" text-anchor="middle" x="5202" y="-917.9" font-family="Times,serif" font-size="14.00">_prefetched_keys</text>
<text xml:space="preserve" text-anchor="middle" x="5202" y="-901.4" font-family="Times,serif" font-size="14.00">_prefetched_language</text>
<text xml:space="preserve" text-anchor="middle" x="5202" y="-884.9" font-family="Times,serif" font-size="14.00">_prefetched_mode</text>
</g>
<!-- generate_next&#45;&gt;store_prefetched -->
<g id="edge35" class="edge">
<title>generate_next&#45;&gt;store_prefetched</title>
<path fill="none" stroke="#7f7f7f" d="M5185.71,-1099.02C5187.67,-1077.98 5190.17,-1051.13 5192.62,-1024.82"/>
<polygon fill="#7f7f7f" stroke="#7f7f7f" points="5196.08,-1025.38 5193.52,-1015.1 5189.11,-1024.73 5196.08,-1025.38"/>
</g>
<!-- cache_ready -->
<g id="node40" class="node">
<title>cache_ready</title>
<polygon fill="lightyellow" stroke="black" points="5261.75,-734.7 5136.25,-734.7 5136.25,-677.2 5267.75,-677.2 5267.75,-728.7 5261.75,-734.7"/>
<polyline fill="none" stroke="black" points="5261.75,-734.7 5261.75,-728.7"/>
<polyline fill="none" stroke="black" points="5267.75,-728.7 5261.75,-728.7"/>
<text xml:space="preserve" text-anchor="middle" x="5202" y="-717.4" font-family="Times,serif" font-size="14.00">Cache Ready</text>
<text xml:space="preserve" text-anchor="middle" x="5202" y="-700.9" font-family="Times,serif" font-size="14.00">Next chunk available</text>
<text xml:space="preserve" text-anchor="middle" x="5202" y="-684.4" font-family="Times,serif" font-size="14.00">for immediate use</text>
</g>
<!-- store_prefetched&#45;&gt;cache_ready -->
<g id="edge36" class="edge">
<title>store_prefetched&#45;&gt;cache_ready</title>
<path fill="none" stroke="#7f7f7f" d="M5202,-832.02C5202,-802.09 5202,-770.3 5202,-746.26"/>
<polygon fill="#7f7f7f" stroke="#7f7f7f" points="5205.5,-746.3 5202,-736.3 5198.5,-746.3 5205.5,-746.3"/>
</g>
<!-- cache_ready&#45;&gt;check_prefetched -->
<g id="edge69" class="edge">
<title>cache_ready&#45;&gt;check_prefetched</title>
<path fill="none" stroke="blue" stroke-dasharray="5,2" d="M5153.86,-735.09C5120.31,-757.26 5077.36,-791.26 5053,-832.45 5031.95,-868.05 5011.7,-1170.89 4980,-1197.45 4962.18,-1212.39 4166.2,-1213.88 4143,-1215.45 3943.06,-1228.95 3891.11,-1225.23 3695,-1266.45 3665.86,-1272.58 3634.71,-1281.38 3606.57,-1290.22"/>
<polygon fill="blue" stroke="blue" points="3605.86,-1286.77 3597.39,-1293.14 3607.98,-1293.44 3605.86,-1286.77"/>
<text xml:space="preserve" text-anchor="middle" x="5054.33" y="-1051.15" font-family="Times,serif" font-size="14.00">Available for</text>
<text xml:space="preserve" text-anchor="middle" x="5054.33" y="-1034.65" font-family="Times,serif" font-size="14.00">next chunk</text>
</g>
<!-- chunk_completion -->
<g id="node41" class="node">
<title>chunk_completion</title>
<ellipse fill="pink" stroke="black" cx="5353" cy="-1825.85" rx="108.89" ry="108.89"/>
<text xml:space="preserve" text-anchor="middle" x="5353" y="-1829.05" font-family="Times,serif" font-size="14.00">Chunk Completed</text>
<text xml:space="preserve" text-anchor="middle" x="5353" y="-1812.55" font-family="Times,serif" font-size="14.00">load_next_chunk() called</text>
</g>
<!-- use_prefetched -->
<g id="node42" class="node">
<title>use_prefetched</title>
<ellipse fill="lightblue" stroke="black" cx="5359" cy="-1557.45" rx="103.06" ry="40.66"/>
<text xml:space="preserve" text-anchor="middle" x="5359" y="-1568.9" font-family="Times,serif" font-size="14.00">Use pre&#45;fetched content</text>
<text xml:space="preserve" text-anchor="middle" x="5359" y="-1552.4" font-family="Times,serif" font-size="14.00">Immediate display</text>
<text xml:space="preserve" text-anchor="middle" x="5359" y="-1535.9" font-family="Times,serif" font-size="14.00">No generation delay</text>
</g>
<!-- chunk_completion&#45;&gt;use_prefetched -->
<g id="edge37" class="edge">
<title>chunk_completion&#45;&gt;use_prefetched</title>
<path fill="none" stroke="#7f7f7f" d="M5355.44,-1716.49C5356.27,-1679.58 5357.16,-1640.03 5357.85,-1609.72"/>
<polygon fill="#7f7f7f" stroke="#7f7f7f" points="5361.34,-1610.18 5358.06,-1600.1 5354.34,-1610.02 5361.34,-1610.18"/>
</g>
<!-- restart_prefetch -->
<g id="node43" class="node">
<title>restart_prefetch</title>
<ellipse fill="lightblue" stroke="black" cx="5359" cy="-1323.95" rx="89.27" ry="28.99"/>
<text xml:space="preserve" text-anchor="middle" x="5359" y="-1327.15" font-family="Times,serif" font-size="14.00">Restart pre&#45;fetching</text>
<text xml:space="preserve" text-anchor="middle" x="5359" y="-1310.65" font-family="Times,serif" font-size="14.00">For next&#45;next chunk</text>
</g>
<!-- use_prefetched&#45;&gt;restart_prefetch -->
<g id="edge38" class="edge">
<title>use_prefetched&#45;&gt;restart_prefetch</title>
<path fill="none" stroke="#7f7f7f" d="M5359,-1516.39C5359,-1473.81 5359,-1406.88 5359,-1364.5"/>
<polygon fill="#7f7f7f" stroke="#7f7f7f" points="5362.5,-1364.75 5359,-1354.75 5355.5,-1364.75 5362.5,-1364.75"/>
</g>
<!-- user_keypress -->
<g id="node44" class="node">
<title>user_keypress</title>
<ellipse fill="pink" stroke="black" cx="4251" cy="-1825.85" rx="72.3" ry="72.3"/>
<text xml:space="preserve" text-anchor="middle" x="4251" y="-1829.05" font-family="Times,serif" font-size="14.00">User Action</text>
<text xml:space="preserve" text-anchor="middle" x="4251" y="-1812.55" font-family="Times,serif" font-size="14.00">Types character</text>
</g>
<!-- on_key_event -->
<g id="node45" class="node">
<title>on_key_event</title>
<ellipse fill="lightblue" stroke="black" cx="4251" cy="-1557.45" rx="66.47" ry="52.33"/>
<text xml:space="preserve" text-anchor="middle" x="4251" y="-1577.15" font-family="Times,serif" font-size="14.00">main.py</text>
<text xml:space="preserve" text-anchor="middle" x="4251" y="-1560.65" font-family="Times,serif" font-size="14.00">on_key(event)</text>
<text xml:space="preserve" text-anchor="middle" x="4251" y="-1544.15" font-family="Times,serif" font-size="14.00">Get character</text>
<text xml:space="preserve" text-anchor="middle" x="4251" y="-1527.65" font-family="Times,serif" font-size="14.00">from event</text>
</g>
<!-- user_keypress&#45;&gt;on_key_event -->
<g id="edge39" class="edge">
<title>user_keypress&#45;&gt;on_key_event</title>
<path fill="none" stroke="#7f7f7f" d="M4251,-1753.11C4251,-1712.01 4251,-1660.92 4251,-1621.39"/>
<polygon fill="#7f7f7f" stroke="#7f7f7f" points="4254.5,-1621.56 4251,-1611.56 4247.5,-1621.56 4254.5,-1621.56"/>
</g>
<!-- lookup_physical -->
<g id="node47" class="node">
<title>lookup_physical</title>
<polygon fill="lightblue" stroke="black" points="4488.66,-1364.95 4223.54,-1364.95 4155.34,-1282.95 4420.46,-1282.95 4488.66,-1364.95"/>
<text xml:space="preserve" text-anchor="middle" x="4322" y="-1327.15" font-family="Times,serif" font-size="14.00">physical_pressed =</text>
<text xml:space="preserve" text-anchor="middle" x="4322" y="-1310.65" font-family="Times,serif" font-size="14.00">char_to_physical.get(char)</text>
</g>
<!-- on_key_event&#45;&gt;lookup_physical -->
<g id="edge40" class="edge">
<title>on_key_event&#45;&gt;lookup_physical</title>
<path fill="none" stroke="#7f7f7f" d="M4266.41,-1506.22C4278.26,-1467.57 4294.57,-1414.38 4306.46,-1375.62"/>
<polygon fill="#7f7f7f" stroke="#7f7f7f" points="4309.66,-1377.12 4309.25,-1366.54 4302.97,-1375.07 4309.66,-1377.12"/>
</g>
<!-- char_to_physical -->
<g id="node46" class="node">
<title>char_to_physical</title>
<polygon fill="lightyellow" stroke="black" points="4465,-1586.2 4335,-1586.2 4335,-1528.7 4471,-1528.7 4471,-1580.2 4465,-1586.2"/>
<polyline fill="none" stroke="black" points="4465,-1586.2 4465,-1580.2"/>
<polyline fill="none" stroke="black" points="4471,-1580.2 4465,-1580.2"/>
<text xml:space="preserve" text-anchor="middle" x="4403" y="-1568.9" font-family="Times,serif" font-size="14.00">char_to_physical map</text>
<text xml:space="preserve" text-anchor="middle" x="4403" y="-1552.4" font-family="Times,serif" font-size="14.00">Built at startup</text>
<text xml:space="preserve" text-anchor="middle" x="4403" y="-1535.9" font-family="Times,serif" font-size="14.00">Includes shifted chars</text>
</g>
<!-- char_to_physical&#45;&gt;lookup_physical -->
<g id="edge41" class="edge">
<title>char_to_physical&#45;&gt;lookup_physical</title>
<path fill="none" stroke="#7f7f7f" d="M4393.23,-1528.53C4380.06,-1490.9 4356.38,-1423.22 4339.96,-1376.29"/>
<polygon fill="#7f7f7f" stroke="#7f7f7f" points="4343.27,-1375.13 4336.66,-1366.85 4336.66,-1377.45 4343.27,-1375.13"/>
</g>
<!-- validation -->
<g id="node51" class="node">
<title>validation</title>
<polygon fill="orange" stroke="black" points="4666,-1197.45 4419.75,-1139.95 4666,-1082.45 4912.25,-1139.95 4666,-1197.45"/>
<text xml:space="preserve" text-anchor="middle" x="4666" y="-1151.4" font-family="Times,serif" font-size="14.00">Validation Logic</text>
<text xml:space="preserve" text-anchor="middle" x="4666" y="-1134.9" font-family="Times,serif" font-size="14.00">1. physical_pressed == expected_physical</text>
<text xml:space="preserve" text-anchor="middle" x="4666" y="-1118.4" font-family="Times,serif" font-size="14.00">2. Fallback: char == target_text[idx]</text>
</g>
<!-- lookup_physical&#45;&gt;validation -->
<g id="edge42" class="edge">
<title>lookup_physical&#45;&gt;validation</title>
<path fill="none" stroke="#7f7f7f" d="M4398.34,-1282.56C4452.59,-1253.86 4525.45,-1215.31 4581.45,-1185.68"/>
<polygon fill="#7f7f7f" stroke="#7f7f7f" points="4582.81,-1188.93 4590.01,-1181.16 4579.53,-1182.74 4582.81,-1188.93"/>
</g>
<!-- get_expected -->
<g id="node49" class="node">
<title>get_expected</title>
<polygon fill="lightblue" stroke="black" points="4825.66,-1364.95 4571.68,-1364.95 4506.34,-1282.95 4760.32,-1282.95 4825.66,-1364.95"/>
<text xml:space="preserve" text-anchor="middle" x="4666" y="-1327.15" font-family="Times,serif" font-size="14.00">expected_physical =</text>
<text xml:space="preserve" text-anchor="middle" x="4666" y="-1310.65" font-family="Times,serif" font-size="14.00">target_keys[typed_index]</text>
</g>
<!-- target_keys&#45;&gt;get_expected -->
<g id="edge43" class="edge">
<title>target_keys&#45;&gt;get_expected</title>
<path fill="none" stroke="#7f7f7f" d="M4666,-1528.53C4666,-1491.06 4666,-1423.79 4666,-1376.88"/>
<polygon fill="#7f7f7f" stroke="#7f7f7f" points="4669.5,-1376.94 4666,-1366.94 4662.5,-1376.94 4669.5,-1376.94"/>
</g>
<!-- get_expected&#45;&gt;validation -->
<g id="edge44" class="edge">
<title>get_expected&#45;&gt;validation</title>
<path fill="none" stroke="#7f7f7f" d="M4666,-1282.56C4666,-1260.95 4666,-1233.75 4666,-1208.98"/>
<polygon fill="#7f7f7f" stroke="#7f7f7f" points="4669.5,-1209.31 4666,-1199.31 4662.5,-1209.31 4669.5,-1209.31"/>
</g>
<!-- shift_mode_check -->
<g id="node50" class="node">
<title>shift_mode_check</title>
<polygon fill="lightyellow" stroke="black" points="4962.38,-1344.45 4843.62,-1344.45 4843.62,-1303.45 4968.38,-1303.45 4968.38,-1338.45 4962.38,-1344.45"/>
<polyline fill="none" stroke="black" points="4962.38,-1344.45 4962.38,-1338.45"/>
<polyline fill="none" stroke="black" points="4968.38,-1338.45 4962.38,-1338.45"/>
<text xml:space="preserve" text-anchor="middle" x="4906" y="-1327.15" font-family="Times,serif" font-size="14.00">Lesson shift_mode</text>
<text xml:space="preserve" text-anchor="middle" x="4906" y="-1310.65" font-family="Times,serif" font-size="14.00">&#39;off&#39;/&#39;mixed&#39;/&#39;always&#39;</text>
</g>
<!-- shift_mode_check&#45;&gt;validation -->
<g id="edge45" class="edge">
<title>shift_mode_check&#45;&gt;validation</title>
<path fill="none" stroke="#7f7f7f" stroke-dasharray="5,2" d="M4881.52,-1303.14C4867.9,-1292.21 4850.61,-1278.45 4835,-1266.45 4802.04,-1241.11 4765,-1213.51 4734.01,-1190.66"/>
<polygon fill="#7f7f7f" stroke="#7f7f7f" points="4736.37,-1188.04 4726.24,-1184.93 4732.22,-1193.68 4736.37,-1188.04"/>
</g>
<!-- correct_action -->
<g id="node52" class="node">
<title>correct_action</title>
<ellipse fill="lightgreen" stroke="black" cx="4553" cy="-922.95" rx="80.79" ry="40.66"/>
<text xml:space="preserve" text-anchor="middle" x="4553" y="-934.4" font-family="Times,serif" font-size="14.00">Correct</text>
<text xml:space="preserve" text-anchor="middle" x="4553" y="-917.9" font-family="Times,serif" font-size="14.00">Add to typed_text</text>
<text xml:space="preserve" text-anchor="middle" x="4553" y="-901.4" font-family="Times,serif" font-size="14.00">Update display</text>
</g>
<!-- validation&#45;&gt;correct_action -->
<g id="edge46" class="edge">
<title>validation&#45;&gt;correct_action</title>
<path fill="none" stroke="#7f7f7f" d="M4639.36,-1088.27C4620.95,-1053.24 4596.61,-1006.92 4578.46,-972.39"/>
<polygon fill="#7f7f7f" stroke="#7f7f7f" points="4581.73,-971.09 4573.98,-963.87 4575.53,-974.35 4581.73,-971.09"/>
<text xml:space="preserve" text-anchor="middle" x="4643.85" y="-1042.9" font-family="Times,serif" font-size="14.00">Match</text>
</g>
<!-- error_action -->
<g id="node53" class="node">
<title>error_action</title>
<ellipse fill="orange" stroke="black" cx="4767" cy="-922.95" rx="115.26" ry="40.66"/>
<text xml:space="preserve" text-anchor="middle" x="4767" y="-934.4" font-family="Times,serif" font-size="14.00">Error</text>
<text xml:space="preserve" text-anchor="middle" x="4767" y="-917.9" font-family="Times,serif" font-size="14.00">current_chunk_errors += 1</text>
<text xml:space="preserve" text-anchor="middle" x="4767" y="-901.4" font-family="Times,serif" font-size="14.00">Hard mode check</text>
</g>
<!-- validation&#45;&gt;error_action -->
<g id="edge47" class="edge">
<title>validation&#45;&gt;error_action</title>
<path fill="none" stroke="#7f7f7f" d="M4690.06,-1087.73C4706.3,-1053.17 4727.61,-1007.81 4743.68,-973.59"/>
<polygon fill="#7f7f7f" stroke="#7f7f7f" points="4746.76,-975.26 4747.85,-964.72 4740.43,-972.29 4746.76,-975.26"/>
<text xml:space="preserve" text-anchor="middle" x="4744.25" y="-1042.9" font-family="Times,serif" font-size="14.00">Mismatch</text>
</g>
<!-- hard_mode_check -->
<g id="node54" class="node">
<title>hard_mode_check</title>
<polygon fill="orange" stroke="black" points="4767,-763.45 4601,-705.95 4767,-648.45 4933,-705.95 4767,-763.45"/>
<text xml:space="preserve" text-anchor="middle" x="4767" y="-717.4" font-family="Times,serif" font-size="14.00">HARD_MODE config</text>
<text xml:space="preserve" text-anchor="middle" x="4767" y="-700.9" font-family="Times,serif" font-size="14.00">If True: no progress</text>
<text xml:space="preserve" text-anchor="middle" x="4767" y="-684.4" font-family="Times,serif" font-size="14.00">If False: allow continuation</text>
</g>
<!-- error_action&#45;&gt;hard_mode_check -->
<g id="edge48" class="edge">
<title>error_action&#45;&gt;hard_mode_check</title>
<path fill="none" stroke="#7f7f7f" d="M4767,-882.02C4767,-851.99 4767,-810.14 4767,-774.89"/>
<polygon fill="#7f7f7f" stroke="#7f7f7f" points="4770.5,-775.21 4767,-765.21 4763.5,-775.21 4770.5,-775.21"/>
</g>
<!-- session_end -->
<g id="node55" class="node">
<title>session_end</title>
<ellipse fill="pink" stroke="black" cx="2215" cy="-1825.85" rx="80.79" ry="80.79"/>
<text xml:space="preserve" text-anchor="middle" x="2215" y="-1837.3" font-family="Times,serif" font-size="14.00">Session End</text>
<text xml:space="preserve" text-anchor="middle" x="2215" y="-1820.8" font-family="Times,serif" font-size="14.00">5 minutes elapsed</text>
<text xml:space="preserve" text-anchor="middle" x="2215" y="-1804.3" font-family="Times,serif" font-size="14.00">or manual end</text>
</g>
<!-- end_drill -->
<g id="node56" class="node">
<title>end_drill</title>
<ellipse fill="lightblue" stroke="black" cx="2215" cy="-1557.45" rx="84.5" ry="40.66"/>
<text xml:space="preserve" text-anchor="middle" x="2215" y="-1568.9" font-family="Times,serif" font-size="14.00">end_drill_session()</text>
<text xml:space="preserve" text-anchor="middle" x="2215" y="-1552.4" font-family="Times,serif" font-size="14.00">Stop timer</text>
<text xml:space="preserve" text-anchor="middle" x="2215" y="-1535.9" font-family="Times,serif" font-size="14.00">Finalize stats</text>
</g>
<!-- session_end&#45;&gt;end_drill -->
<g id="edge49" class="edge">
<title>session_end&#45;&gt;end_drill</title>
<path fill="none" stroke="#7f7f7f" d="M2215,-1744.92C2215,-1701.17 2215,-1648.24 2215,-1609.96"/>
<polygon fill="#7f7f7f" stroke="#7f7f7f" points="2218.5,-1610.1 2215,-1600.1 2211.5,-1610.1 2218.5,-1610.1"/>
</g>
<!-- evaluate_stats -->
<g id="node57" class="node">
<title>evaluate_stats</title>
<ellipse fill="lightblue" stroke="black" cx="2215" cy="-1323.95" rx="135.41" ry="28.99"/>
<text xml:space="preserve" text-anchor="middle" x="2215" y="-1327.15" font-family="Times,serif" font-size="14.00">evaluate_drill_and_show_stats()</text>
<text xml:space="preserve" text-anchor="middle" x="2215" y="-1310.65" font-family="Times,serif" font-size="14.00">Calculate final WPM/accuracy</text>
</g>
<!-- end_drill&#45;&gt;evaluate_stats -->
<g id="edge50" class="edge">
<title>end_drill&#45;&gt;evaluate_stats</title>
<path fill="none" stroke="#7f7f7f" d="M2215,-1516.39C2215,-1473.81 2215,-1406.88 2215,-1364.5"/>
<polygon fill="#7f7f7f" stroke="#7f7f7f" points="2218.5,-1364.75 2215,-1354.75 2211.5,-1364.75 2218.5,-1364.75"/>
</g>
<!-- cumulative_stats -->
<g id="node58" class="node">
<title>cumulative_stats</title>
<polygon fill="lightyellow" stroke="black" points="2269.12,-1168.7 2154.88,-1168.7 2154.88,-1111.2 2275.12,-1111.2 2275.12,-1162.7 2269.12,-1168.7"/>
<polyline fill="none" stroke="black" points="2269.12,-1168.7 2269.12,-1162.7"/>
<polyline fill="none" stroke="black" points="2275.12,-1162.7 2269.12,-1162.7"/>
<text xml:space="preserve" text-anchor="middle" x="2215" y="-1151.4" font-family="Times,serif" font-size="14.00">Cumulative Stats</text>
<text xml:space="preserve" text-anchor="middle" x="2215" y="-1134.9" font-family="Times,serif" font-size="14.00">typed_chars, errors</text>
<text xml:space="preserve" text-anchor="middle" x="2215" y="-1118.4" font-family="Times,serif" font-size="14.00">from session</text>
</g>
<!-- evaluate_stats&#45;&gt;cumulative_stats -->
<g id="edge51" class="edge">
<title>evaluate_stats&#45;&gt;cumulative_stats</title>
<path fill="none" stroke="#7f7f7f" d="M2215,-1294.51C2215,-1263.93 2215,-1215.07 2215,-1180.69"/>
<polygon fill="#7f7f7f" stroke="#7f7f7f" points="2218.5,-1180.7 2215,-1170.7 2211.5,-1180.7 2218.5,-1180.7"/>
</g>
<!-- calc_wpm -->
<g id="node59" class="node">
<title>calc_wpm</title>
<polygon fill="lightblue" stroke="black" points="2286.55,-963.95 2037.51,-963.95 1973.45,-881.95 2222.49,-881.95 2286.55,-963.95"/>
<text xml:space="preserve" text-anchor="middle" x="2130" y="-926.15" font-family="Times,serif" font-size="14.00">WPM Calculation</text>
<text xml:space="preserve" text-anchor="middle" x="2130" y="-909.65" font-family="Times,serif" font-size="14.00">(typed_chars/5)/(300/60)</text>
</g>
<!-- cumulative_stats&#45;&gt;calc_wpm -->
<g id="edge52" class="edge">
<title>cumulative_stats&#45;&gt;calc_wpm</title>
<path fill="none" stroke="#7f7f7f" d="M2203.89,-1110.84C2190.27,-1076.39 2166.93,-1017.37 2150.13,-974.86"/>
<polygon fill="#7f7f7f" stroke="#7f7f7f" points="2153.38,-973.58 2146.45,-965.57 2146.87,-976.15 2153.38,-973.58"/>
</g>
<!-- cumulative_stats&#45;&gt;calc_wpm -->
<g id="edge70" class="edge">
<title>cumulative_stats&#45;&gt;calc_wpm</title>
<path fill="none" stroke="blue" stroke-dasharray="5,2" d="M2208.47,-1111.09C2202.97,-1089.11 2194.34,-1057.86 2184,-1031.45 2176.52,-1012.35 2166.83,-992.08 2157.73,-974.35"/>
<polygon fill="blue" stroke="blue" points="2160.88,-972.83 2153.16,-965.58 2154.68,-976.06 2160.88,-972.83"/>
<text xml:space="preserve" text-anchor="middle" x="2240.87" y="-1042.9" font-family="Times,serif" font-size="14.00">Session statistics</text>
</g>
<!-- calc_acc -->
<g id="node60" class="node">
<title>calc_acc</title>
<polygon fill="lightblue" stroke="black" points="2713.76,-963.95 2388.03,-963.95 2304.24,-881.95 2629.97,-881.95 2713.76,-963.95"/>
<text xml:space="preserve" text-anchor="middle" x="2509" y="-926.15" font-family="Times,serif" font-size="14.00">Accuracy Calculation</text>
<text xml:space="preserve" text-anchor="middle" x="2509" y="-909.65" font-family="Times,serif" font-size="14.00">(chars&#45;errors)/(chars+errors)*100</text>
</g>
<!-- cumulative_stats&#45;&gt;calc_acc -->
<g id="edge53" class="edge">
<title>cumulative_stats&#45;&gt;calc_acc</title>
<path fill="none" stroke="#7f7f7f" d="M2253.44,-1110.84C2301.97,-1075.35 2386.18,-1013.77 2444.61,-971.04"/>
<polygon fill="#7f7f7f" stroke="#7f7f7f" points="2446.52,-973.98 2452.53,-965.25 2442.39,-968.33 2446.52,-973.98"/>
</g>
<!-- cumulative_stats&#45;&gt;calc_acc -->
<g id="edge71" class="edge">
<title>cumulative_stats&#45;&gt;calc_acc</title>
<path fill="none" stroke="blue" stroke-dasharray="5,2" d="M2269.21,-1110.87C2293.09,-1097.75 2321.09,-1081.32 2345,-1064.45 2385.07,-1036.18 2427.02,-1000.12 2458.45,-971.61"/>
<polygon fill="blue" stroke="blue" points="2460.47,-974.5 2465.5,-965.17 2455.75,-969.33 2460.47,-974.5"/>
<text xml:space="preserve" text-anchor="middle" x="2433.25" y="-1042.9" font-family="Times,serif" font-size="14.00">Session statistics</text>
</g>
<!-- mode_check -->
<g id="node62" class="node">
<title>mode_check</title>
<polygon fill="orange" stroke="black" points="2509,-763.45 2362.5,-705.95 2509,-648.45 2655.5,-705.95 2509,-763.45"/>
<text xml:space="preserve" text-anchor="middle" x="2509" y="-717.4" font-family="Times,serif" font-size="14.00">Mode Check</text>
<text xml:space="preserve" text-anchor="middle" x="2509" y="-700.9" font-family="Times,serif" font-size="14.00">Only curriculum mode</text>
<text xml:space="preserve" text-anchor="middle" x="2509" y="-684.4" font-family="Times,serif" font-size="14.00">has lesson requirements</text>
</g>
<!-- calc_wpm&#45;&gt;mode_check -->
<g id="edge54" class="edge">
<title>calc_wpm&#45;&gt;mode_check</title>
<path fill="none" stroke="#7f7f7f" d="M2201.29,-881.51C2269.75,-842.67 2372.5,-784.39 2440.14,-746.02"/>
<polygon fill="#7f7f7f" stroke="#7f7f7f" points="2441.57,-749.23 2448.54,-741.25 2438.11,-743.14 2441.57,-749.23"/>
</g>
<!-- calc_acc&#45;&gt;mode_check -->
<g id="edge55" class="edge">
<title>calc_acc&#45;&gt;mode_check</title>
<path fill="none" stroke="#7f7f7f" d="M2509,-881.51C2509,-851.55 2509,-810.01 2509,-774.97"/>
<polygon fill="#7f7f7f" stroke="#7f7f7f" points="2512.5,-775.36 2509,-765.36 2505.5,-775.36 2512.5,-775.36"/>
</g>
<!-- practice_mode -->
<g id="node61" class="node">
<title>practice_mode</title>
<polygon fill="lightyellow" stroke="black" points="2899.75,-943.45 2732.25,-943.45 2732.25,-902.45 2905.75,-902.45 2905.75,-937.45 2899.75,-943.45"/>
<polyline fill="none" stroke="black" points="2899.75,-943.45 2899.75,-937.45"/>
<polyline fill="none" stroke="black" points="2905.75,-937.45 2899.75,-937.45"/>
<text xml:space="preserve" text-anchor="middle" x="2819" y="-926.15" font-family="Times,serif" font-size="14.00">Current PRACTICE_MODE</text>
<text xml:space="preserve" text-anchor="middle" x="2819" y="-909.65" font-family="Times,serif" font-size="14.00">curriculum/sentences/code</text>
</g>
<!-- practice_mode&#45;&gt;mode_check -->
<g id="edge56" class="edge">
<title>practice_mode&#45;&gt;mode_check</title>
<path fill="none" stroke="#7f7f7f" d="M2800.26,-902.1C2781.67,-883.01 2751.87,-853.96 2723,-832.45 2678.4,-799.22 2624.33,-767.57 2581.71,-744.38"/>
<polygon fill="#7f7f7f" stroke="#7f7f7f" points="2583.48,-741.36 2573.02,-739.68 2580.15,-747.52 2583.48,-741.36"/>
</g>
<!-- practice_mode&#45;&gt;mode_check -->
<g id="edge72" class="edge">
<title>practice_mode&#45;&gt;mode_check</title>
<path fill="none" stroke="blue" stroke-dasharray="5,2" d="M2803.33,-902.44C2778.91,-873.03 2729.14,-817.03 2677,-781.45 2652.11,-764.47 2622.72,-749.88 2595.54,-738.23"/>
<polygon fill="blue" stroke="blue" points="2597.22,-735.13 2586.64,-734.49 2594.51,-741.59 2597.22,-735.13"/>
<text xml:space="preserve" text-anchor="middle" x="2777.27" y="-801.15" font-family="Times,serif" font-size="14.00">Determines evaluation</text>
<text xml:space="preserve" text-anchor="middle" x="2777.27" y="-784.65" font-family="Times,serif" font-size="14.00">logic</text>
</g>
<!-- requirement_check -->
<g id="node64" class="node">
<title>requirement_check</title>
<polygon fill="orange" stroke="black" points="2674,-595.95 2528.25,-538.45 2674,-480.95 2819.75,-538.45 2674,-595.95"/>
<text xml:space="preserve" text-anchor="middle" x="2674" y="-549.9" font-family="Times,serif" font-size="14.00">Check Requirements</text>
<text xml:space="preserve" text-anchor="middle" x="2674" y="-533.4" font-family="Times,serif" font-size="14.00">acc &gt;= target_acc AND</text>
<text xml:space="preserve" text-anchor="middle" x="2674" y="-516.9" font-family="Times,serif" font-size="14.00">wpm &gt;= target_wpm</text>
</g>
<!-- mode_check&#45;&gt;requirement_check -->
<g id="edge57" class="edge">
<title>mode_check&#45;&gt;requirement_check</title>
<path fill="none" stroke="#7f7f7f" d="M2549.79,-664.04C2572.68,-641.08 2601.39,-612.29 2625.44,-588.16"/>
<polygon fill="#7f7f7f" stroke="#7f7f7f" points="2627.75,-590.8 2632.33,-581.25 2622.79,-585.86 2627.75,-590.8"/>
<text xml:space="preserve" text-anchor="middle" x="2643.7" y="-617.15" font-family="Times,serif" font-size="14.00">curriculum mode</text>
</g>
<!-- update_records -->
<g id="node66" class="node">
<title>update_records</title>
<ellipse fill="lightblue" stroke="black" cx="2542" cy="-269.48" rx="95.64" ry="40.66"/>
<text xml:space="preserve" text-anchor="middle" x="2542" y="-280.93" font-family="Times,serif" font-size="14.00">Update Records</text>
<text xml:space="preserve" text-anchor="middle" x="2542" y="-264.43" font-family="Times,serif" font-size="14.00">wpm_record if higher</text>
<text xml:space="preserve" text-anchor="middle" x="2542" y="-247.93" font-family="Times,serif" font-size="14.00">total_drills += 1</text>
</g>
<!-- mode_check&#45;&gt;update_records -->
<g id="edge58" class="edge">
<title>mode_check&#45;&gt;update_records</title>
<path fill="none" stroke="#7f7f7f" d="M2510.51,-648.74C2511.97,-603.4 2514.61,-538.01 2519,-480.95 2523.19,-426.4 2530.29,-364.12 2535.49,-321.55"/>
<polygon fill="#7f7f7f" stroke="#7f7f7f" points="2538.93,-322.22 2536.68,-311.87 2531.99,-321.36 2538.93,-322.22"/>
<text xml:space="preserve" text-anchor="middle" x="2579.65" y="-449.65" font-family="Times,serif" font-size="14.00">sentences/code mode</text>
</g>
<!-- lesson_reqs -->
<g id="node63" class="node">
<title>lesson_reqs</title>
<polygon fill="lightyellow" stroke="black" points="2812.12,-734.7 2673.88,-734.7 2673.88,-677.2 2818.12,-677.2 2818.12,-728.7 2812.12,-734.7"/>
<polyline fill="none" stroke="black" points="2812.12,-734.7 2812.12,-728.7"/>
<polyline fill="none" stroke="black" points="2818.12,-728.7 2812.12,-728.7"/>
<text xml:space="preserve" text-anchor="middle" x="2746" y="-717.4" font-family="Times,serif" font-size="14.00">Lesson Requirements</text>
<text xml:space="preserve" text-anchor="middle" x="2746" y="-700.9" font-family="Times,serif" font-size="14.00">target_acc, target_wpm</text>
<text xml:space="preserve" text-anchor="middle" x="2746" y="-684.4" font-family="Times,serif" font-size="14.00">from lesson config</text>
</g>
<!-- lesson_reqs&#45;&gt;requirement_check -->
<g id="edge59" class="edge">
<title>lesson_reqs&#45;&gt;requirement_check</title>
<path fill="none" stroke="#7f7f7f" d="M2733.79,-676.88C2724.44,-655.38 2711.21,-624.98 2699.57,-598.24"/>
<polygon fill="#7f7f7f" stroke="#7f7f7f" points="2702.84,-596.97 2695.64,-589.2 2696.42,-599.76 2702.84,-596.97"/>
</g>
<!-- update_progress -->
<g id="node65" class="node">
<title>update_progress</title>
<ellipse fill="lightblue" stroke="black" cx="2637" cy="-387.79" rx="94.05" ry="40.66"/>
<text xml:space="preserve" text-anchor="middle" x="2637" y="-399.24" font-family="Times,serif" font-size="14.00">Update Progress</text>
<text xml:space="preserve" text-anchor="middle" x="2637" y="-382.74" font-family="Times,serif" font-size="14.00">If passed: next lesson</text>
<text xml:space="preserve" text-anchor="middle" x="2637" y="-366.24" font-family="Times,serif" font-size="14.00">If failed: repeat</text>
</g>
<!-- requirement_check&#45;&gt;update_progress -->
<g id="edge60" class="edge">
<title>requirement_check&#45;&gt;update_progress</title>
<path fill="none" stroke="#7f7f7f" d="M2661.16,-485.88C2657.44,-470.91 2653.37,-454.58 2649.66,-439.65"/>
<polygon fill="#7f7f7f" stroke="#7f7f7f" points="2653.07,-438.89 2647.26,-430.03 2646.28,-440.58 2653.07,-438.89"/>
</g>
<!-- update_progress&#45;&gt;update_records -->
<g id="edge61" class="edge">
<title>update_progress&#45;&gt;update_records</title>
<path fill="none" stroke="#7f7f7f" d="M2606.16,-349.03C2597.78,-338.77 2588.6,-327.54 2579.88,-316.86"/>
<polygon fill="#7f7f7f" stroke="#7f7f7f" points="2582.68,-314.75 2573.65,-309.22 2577.26,-319.18 2582.68,-314.75"/>
</g>
<!-- save_profile -->
<g id="node67" class="node">
<title>save_profile</title>
<ellipse fill="lightblue" stroke="black" cx="2542" cy="-151.16" rx="72.3" ry="40.66"/>
<text xml:space="preserve" text-anchor="middle" x="2542" y="-162.61" font-family="Times,serif" font-size="14.00">Save Profile</text>
<text xml:space="preserve" text-anchor="middle" x="2542" y="-146.11" font-family="Times,serif" font-size="14.00">Persist to JSON</text>
<text xml:space="preserve" text-anchor="middle" x="2542" y="-129.61" font-family="Times,serif" font-size="14.00">with updates</text>
</g>
<!-- update_records&#45;&gt;save_profile -->
<g id="edge62" class="edge">
<title>update_records&#45;&gt;save_profile</title>
<path fill="none" stroke="#7f7f7f" d="M2542,-228.45C2542,-220.5 2542,-212.04 2542,-203.77"/>
<polygon fill="#7f7f7f" stroke="#7f7f7f" points="2545.5,-203.78 2542,-193.78 2538.5,-203.78 2545.5,-203.78"/>
</g>
<!-- show_results -->
<g id="node68" class="node">
<title>show_results</title>
<polygon fill="lightgreen" stroke="black" points="2598.38,-73.5 2485.62,-73.5 2485.62,-69.5 2481.62,-69.5 2481.62,-65.5 2485.62,-65.5 2485.62,-24 2481.62,-24 2481.62,-20 2485.62,-20 2485.62,-16 2598.38,-16 2598.38,-73.5"/>
<polyline fill="none" stroke="black" points="2485.62,-69.5 2489.62,-69.5 2489.62,-65.5 2485.62,-65.5"/>
<polyline fill="none" stroke="black" points="2485.62,-24 2489.62,-24 2489.62,-20 2485.62,-20"/>
<text xml:space="preserve" text-anchor="middle" x="2542" y="-56.2" font-family="Times,serif" font-size="14.00">Show Results</text>
<text xml:space="preserve" text-anchor="middle" x="2542" y="-39.7" font-family="Times,serif" font-size="14.00">StatsScreen or</text>
<text xml:space="preserve" text-anchor="middle" x="2542" y="-23.2" font-family="Times,serif" font-size="14.00">inline notification</text>
</g>
<!-- save_profile&#45;&gt;show_results -->
<g id="edge63" class="edge">
<title>save_profile&#45;&gt;show_results</title>
<path fill="none" stroke="#7f7f7f" d="M2542,-110.09C2542,-101.98 2542,-93.45 2542,-85.35"/>
<polygon fill="#7f7f7f" stroke="#7f7f7f" points="2545.5,-85.41 2542,-75.41 2538.5,-85.41 2545.5,-85.41"/>
</g>
<!-- node_legend_config -->
<g id="node69" class="node">
<title>node_legend_config</title>
<polygon fill="lightyellow" stroke="black" points="7245.12,-1846.35 7148.88,-1846.35 7148.88,-1805.35 7251.12,-1805.35 7251.12,-1840.35 7245.12,-1846.35"/>
<polyline fill="none" stroke="black" points="7245.12,-1846.35 7245.12,-1840.35"/>
<polyline fill="none" stroke="black" points="7251.12,-1840.35 7245.12,-1840.35"/>
<text xml:space="preserve" text-anchor="middle" x="7200" y="-1829.05" font-family="Times,serif" font-size="14.00">Configuration</text>
<text xml:space="preserve" text-anchor="middle" x="7200" y="-1812.55" font-family="Times,serif" font-size="14.00">Constant values</text>
</g>
<!-- node_legend_code -->
<g id="node70" class="node">
<title>node_legend_code</title>
<ellipse fill="lightblue" stroke="black" cx="7354" cy="-1825.85" rx="84.5" ry="28.99"/>
<text xml:space="preserve" text-anchor="middle" x="7354" y="-1829.05" font-family="Times,serif" font-size="14.00">Code Execution</text>
<text xml:space="preserve" text-anchor="middle" x="7354" y="-1812.55" font-family="Times,serif" font-size="14.00">Functions/methods</text>
</g>
<!-- node_legend_data -->
<g id="node71" class="node">
<title>node_legend_data</title>
<polygon fill="white" stroke="black" points="7711,-1866.85 7508.97,-1866.85 7457,-1784.85 7659.03,-1784.85 7711,-1866.85"/>
<text xml:space="preserve" text-anchor="middle" x="7584" y="-1829.05" font-family="Times,serif" font-size="14.00">Data Storage</text>
<text xml:space="preserve" text-anchor="middle" x="7584" y="-1812.55" font-family="Times,serif" font-size="14.00">Variables/structures</text>
</g>
<!-- node_legend_decision -->
<g id="node72" class="node">
<title>node_legend_decision</title>
<polygon fill="orange" stroke="black" points="7831,-1866.85 7728.75,-1825.85 7831,-1784.85 7933.25,-1825.85 7831,-1866.85"/>
<text xml:space="preserve" text-anchor="middle" x="7831" y="-1829.05" font-family="Times,serif" font-size="14.00">Decision Point</text>
<text xml:space="preserve" text-anchor="middle" x="7831" y="-1812.55" font-family="Times,serif" font-size="14.00">Logic/condition</text>
</g>
<!-- node_legend_ui -->
<g id="node73" class="node">
<title>node_legend_ui</title>
<polygon fill="lightgreen" stroke="black" points="8048.88,-1846.35 7951.12,-1846.35 7951.12,-1842.35 7947.12,-1842.35 7947.12,-1838.35 7951.12,-1838.35 7951.12,-1813.35 7947.12,-1813.35 7947.12,-1809.35 7951.12,-1809.35 7951.12,-1805.35 8048.88,-1805.35 8048.88,-1846.35"/>
<polyline fill="none" stroke="black" points="7951.12,-1842.35 7955.12,-1842.35 7955.12,-1838.35 7951.12,-1838.35"/>
<polyline fill="none" stroke="black" points="7951.12,-1813.35 7955.12,-1813.35 7955.12,-1809.35 7951.12,-1809.35"/>
<text xml:space="preserve" text-anchor="middle" x="8000" y="-1829.05" font-family="Times,serif" font-size="14.00">UI Component</text>
<text xml:space="preserve" text-anchor="middle" x="8000" y="-1812.55" font-family="Times,serif" font-size="14.00">Screen/widget</text>
</g>
<!-- node_legend_user -->
<g id="node74" class="node">
<title>node_legend_user</title>
<ellipse fill="pink" stroke="black" cx="8126" cy="-1825.85" rx="59.57" ry="59.57"/>
<text xml:space="preserve" text-anchor="middle" x="8126" y="-1829.05" font-family="Times,serif" font-size="14.00">User Action</text>
<text xml:space="preserve" text-anchor="middle" x="8126" y="-1812.55" font-family="Times,serif" font-size="14.00">Input/trigger</text>
</g>
<!-- node_legend_file -->
<g id="node75" class="node">
<title>node_legend_file</title>
<polygon fill="lightyellow" stroke="black" points="8308.62,-1846.35 8203.38,-1846.35 8203.38,-1805.35 8314.62,-1805.35 8314.62,-1840.35 8308.62,-1846.35"/>
<polyline fill="none" stroke="black" points="8308.62,-1846.35 8308.62,-1840.35"/>
<polyline fill="none" stroke="black" points="8314.62,-1840.35 8308.62,-1840.35"/>
<text xml:space="preserve" text-anchor="middle" x="8259" y="-1829.05" font-family="Times,serif" font-size="14.00">File/JSON</text>
<text xml:space="preserve" text-anchor="middle" x="8259" y="-1812.55" font-family="Times,serif" font-size="14.00">Persistent storage</text>
</g>
<!-- node_legend_profile -->
<g id="node76" class="node">
<title>node_legend_profile</title>
<polygon fill="lightgreen" stroke="black" points="8425.25,-1846.35 8422.25,-1850.35 8401.25,-1850.35 8398.25,-1846.35 8332.75,-1846.35 8332.75,-1805.35 8425.25,-1805.35 8425.25,-1846.35"/>
<text xml:space="preserve" text-anchor="middle" x="8379" y="-1829.05" font-family="Times,serif" font-size="14.00">Profile Object</text>
<text xml:space="preserve" text-anchor="middle" x="8379" y="-1812.55" font-family="Times,serif" font-size="14.00">User data</text>
</g>
<!-- node_legend_cache -->
<g id="node77" class="node">
<title>node_legend_cache</title>
<polygon fill="lightyellow" stroke="black" points="8556.75,-1846.35 8443.25,-1846.35 8443.25,-1805.35 8562.75,-1805.35 8562.75,-1840.35 8556.75,-1846.35"/>
<polyline fill="none" stroke="black" points="8556.75,-1846.35 8556.75,-1840.35"/>
<polyline fill="none" stroke="black" points="8562.75,-1840.35 8556.75,-1840.35"/>
<text xml:space="preserve" text-anchor="middle" x="8503" y="-1829.05" font-family="Times,serif" font-size="14.00">Cache/Pre&#45;fetch</text>
<text xml:space="preserve" text-anchor="middle" x="8503" y="-1812.55" font-family="Times,serif" font-size="14.00">Temporary storage</text>
</g>
<!-- const_drill_duration -->
<g id="node78" class="node">
<title>const_drill_duration</title>
<polygon fill="lightyellow" stroke="black" points="974.75,-1846.35 813.25,-1846.35 813.25,-1805.35 980.75,-1805.35 980.75,-1840.35 974.75,-1846.35"/>
<polyline fill="none" stroke="black" points="974.75,-1846.35 974.75,-1840.35"/>
<polyline fill="none" stroke="black" points="980.75,-1840.35 974.75,-1840.35"/>
<text xml:space="preserve" text-anchor="middle" x="897" y="-1829.05" font-family="Times,serif" font-size="14.00">DRILL_DURATION = 300</text>
<text xml:space="preserve" text-anchor="middle" x="897" y="-1812.55" font-family="Times,serif" font-size="14.00">(5 minutes)</text>
</g>
<!-- const_drill_duration&#45;&gt;end_drill -->
<g id="edge73" class="edge">
<title>const_drill_duration&#45;&gt;end_drill</title>
<path fill="none" stroke="darkgreen" stroke-dasharray="1,5" d="M899.6,-1805.08C904.91,-1773.39 920.18,-1711.81 961,-1682.45 1054.5,-1615.21 1842.69,-1574.69 2119.42,-1562.43"/>
<polygon fill="darkgreen" stroke="darkgreen" points="2119.28,-1565.94 2129.12,-1562 2118.97,-1558.94 2119.28,-1565.94"/>
</g>
<!-- const_hard_mode -->
<g id="node79" class="node">
<title>const_hard_mode</title>
<polygon fill="lightyellow" stroke="black" points="1135,-1843.85 999,-1843.85 999,-1807.85 1141,-1807.85 1141,-1837.85 1135,-1843.85"/>
<polyline fill="none" stroke="black" points="1135,-1843.85 1135,-1837.85"/>
<polyline fill="none" stroke="black" points="1141,-1837.85 1135,-1837.85"/>
<text xml:space="preserve" text-anchor="middle" x="1070" y="-1820.8" font-family="Times,serif" font-size="14.00">HARD_MODE = True</text>
</g>
<!-- const_hard_mode&#45;&gt;hard_mode_check -->
<g id="edge74" class="edge">
<title>const_hard_mode&#45;&gt;hard_mode_check</title>
<path fill="none" stroke="darkgreen" stroke-dasharray="1,5" d="M1067.82,-1807.37C1065.07,-1776.49 1064.56,-1712.72 1102,-1682.45 1141.23,-1650.74 2881.36,-1699.13 2918,-1664.45 3107.17,-1485.4 2886.99,-1330.79 2956,-1079.63 2988.67,-960.73 2977.45,-897.83 3082,-832.45 3128.31,-803.49 4015.65,-837.85 4065,-814.45 4082.38,-806.21 4076.02,-790.48 4093,-781.45 4178.4,-736.05 4431.83,-718.24 4602.41,-711.3"/>
<polygon fill="darkgreen" stroke="darkgreen" points="4602.41,-714.81 4612.27,-710.91 4602.14,-707.81 4602.41,-714.81"/>
</g>
<!-- const_shuffle_after -->
<g id="node80" class="node">
<title>const_shuffle_after</title>
<polygon fill="lightyellow" stroke="black" points="1299.25,-1846.35 1158.75,-1846.35 1158.75,-1805.35 1305.25,-1805.35 1305.25,-1840.35 1299.25,-1846.35"/>
<polyline fill="none" stroke="black" points="1299.25,-1846.35 1299.25,-1840.35"/>
<polyline fill="none" stroke="black" points="1305.25,-1840.35 1299.25,-1840.35"/>
<text xml:space="preserve" text-anchor="middle" x="1232" y="-1829.05" font-family="Times,serif" font-size="14.00">SHUFFLE_AFTER = 5</text>
<text xml:space="preserve" text-anchor="middle" x="1232" y="-1812.55" font-family="Times,serif" font-size="14.00">Shuffle after chunks</text>
</g>
<!-- const_shuffle_after&#45;&gt;algorithm_dispatch -->
<g id="edge75" class="edge">
<title>const_shuffle_after&#45;&gt;algorithm_dispatch</title>
<path fill="none" stroke="darkgreen" stroke-dasharray="1,5" d="M1241.04,-1805.21C1253.62,-1780.28 1278.89,-1738 1314,-1716.95 1397.01,-1667.19 1432.58,-1690.74 1529,-1682.45 1568.91,-1679.02 2941.13,-1691.15 2971,-1664.45 3125.81,-1526.06 2992.69,-1404.96 2985,-1197.45 2983.06,-1145.12 2966.99,-1128.8 2985,-1079.63 2998.25,-1043.45 3017.47,-1043.96 3041,-1013.45 3101.02,-935.64 3081.26,-878.63 3168,-832.45 3258.44,-784.3 3997.44,-858.41 4090,-814.45 4107.38,-806.2 4100.63,-789.71 4118,-781.45 4161.25,-760.88 4946.49,-797.67 4980,-763.45 5018.25,-724.4 5017.93,-679.81 4980,-640.45 4977.1,-637.44 3780.17,-596.28 3776,-595.95 3646.51,-585.89 3497.99,-567.1 3401.77,-553.96"/>
<polygon fill="darkgreen" stroke="darkgreen" points="3402.48,-550.52 3392.09,-552.63 3401.52,-557.46 3402.48,-550.52"/>
<text xml:space="preserve" text-anchor="middle" x="3033" y="-1134.9" font-family="Times,serif" font-size="14.00">shuffle parameter</text>
</g>
<!-- const_practice_modes -->
<g id="node81" class="node">
<title>const_practice_modes</title>
<polygon fill="lightyellow" stroke="black" points="1485.12,-1846.35 1322.88,-1846.35 1322.88,-1805.35 1491.12,-1805.35 1491.12,-1840.35 1485.12,-1846.35"/>
<polyline fill="none" stroke="black" points="1485.12,-1846.35 1485.12,-1840.35"/>
<polyline fill="none" stroke="black" points="1491.12,-1840.35 1485.12,-1840.35"/>
<text xml:space="preserve" text-anchor="middle" x="1407" y="-1829.05" font-family="Times,serif" font-size="14.00">PRACTICE_MODE</text>
<text xml:space="preserve" text-anchor="middle" x="1407" y="-1812.55" font-family="Times,serif" font-size="14.00">curriculum, sentences, code</text>
</g>
<!-- const_practice_modes&#45;&gt;profile_config -->
<g id="edge76" class="edge">
<title>const_practice_modes&#45;&gt;profile_config</title>
<path fill="none" stroke="darkgreen" stroke-dasharray="1,5" d="M1412.91,-1846.7C1424.48,-1882.8 1454.03,-1955.31 1510,-1978.49 1545.9,-1993.36 2870.34,-1982.42 2909,-1978.49 3144.66,-1954.53 3415.98,-1888.88 3556.5,-1851.95"/>
<polygon fill="darkgreen" stroke="darkgreen" points="3557.38,-1855.34 3566.16,-1849.4 3555.6,-1848.57 3557.38,-1855.34"/>
</g>
<!-- const_sentence_sources -->
<g id="node82" class="node">
<title>const_sentence_sources</title>
<polygon fill="lightyellow" stroke="black" points="1648.5,-1846.35 1509.5,-1846.35 1509.5,-1805.35 1654.5,-1805.35 1654.5,-1840.35 1648.5,-1846.35"/>
<polyline fill="none" stroke="black" points="1648.5,-1846.35 1648.5,-1840.35"/>
<polyline fill="none" stroke="black" points="1654.5,-1840.35 1648.5,-1840.35"/>
<text xml:space="preserve" text-anchor="middle" x="1582" y="-1829.05" font-family="Times,serif" font-size="14.00">SENTENCE_SOURCE</text>
<text xml:space="preserve" text-anchor="middle" x="1582" y="-1812.55" font-family="Times,serif" font-size="14.00">local, file, api, cmd</text>
</g>
<!-- const_sentence_sources&#45;&gt;sentence_source -->
<g id="edge77" class="edge">
<title>const_sentence_sources&#45;&gt;sentence_source</title>
<path fill="none" stroke="darkgreen" stroke-dasharray="1,5" d="M1566.64,-1805.09C1544.82,-1774.52 1510.98,-1715.83 1544,-1682.45 1575.9,-1650.2 3144.2,-1695.79 3177,-1664.45 3209,-1633.88 3221.42,-1300.38 3193,-1266.45 3163.72,-1231.5 3121.28,-1283.41 3092,-1248.45 3069.01,-1221 3077.35,-1218.56 3126,-1079.63 3133.78,-1057.41 3128.76,-1045.01 3148,-1031.45 3186.28,-1004.47 3313.32,-1027.5 3358,-1013.45 3402.27,-999.54 3447.64,-971.4 3477.75,-950.37"/>
<polygon fill="darkgreen" stroke="darkgreen" points="3479.62,-953.34 3485.74,-944.69 3475.56,-947.63 3479.62,-953.34"/>
</g>
<!-- const_code_sources -->
<g id="node83" class="node">
<title>const_code_sources</title>
<polygon fill="lightyellow" stroke="black" points="1783.25,-1846.35 1672.75,-1846.35 1672.75,-1805.35 1789.25,-1805.35 1789.25,-1840.35 1783.25,-1846.35"/>
<polyline fill="none" stroke="black" points="1783.25,-1846.35 1783.25,-1840.35"/>
<polyline fill="none" stroke="black" points="1789.25,-1840.35 1783.25,-1840.35"/>
<text xml:space="preserve" text-anchor="middle" x="1731" y="-1829.05" font-family="Times,serif" font-size="14.00">CODE_SOURCE</text>
<text xml:space="preserve" text-anchor="middle" x="1731" y="-1812.55" font-family="Times,serif" font-size="14.00">local, file, cmd, ai</text>
</g>
<!-- const_code_sources&#45;&gt;code_source -->
<g id="edge78" class="edge">
<title>const_code_sources&#45;&gt;code_source</title>
<path fill="none" stroke="darkgreen" stroke-dasharray="1,5" d="M1737.32,-1805.17C1746.45,-1780.2 1765.84,-1737.88 1798,-1716.95 1890.9,-1656.49 1934.49,-1690.99 2045,-1682.45 2077.19,-1679.96 3183.72,-1686.81 3207,-1664.45 3334.61,-1541.91 3262.59,-1436.86 3215,-1266.45 3212.54,-1257.64 3207.98,-1257.11 3205,-1248.45 3197.54,-1226.76 3198.78,-1220.33 3197,-1197.45 3192.93,-1145.24 3161.62,-1118.24 3197,-1079.63 3310.93,-955.29 3799.31,-1082.87 3953,-1013.45 4059.29,-965.45 4036.53,-880.05 4143,-832.45 4319.04,-753.76 4877.18,-905.12 5008,-763.45 5045.09,-723.29 5044.92,-680.77 5008,-640.45 4936.71,-562.62 4203.01,-544.48 3947.31,-540.5"/>
<polygon fill="darkgreen" stroke="darkgreen" points="3947.43,-537 3937.38,-540.35 3947.32,-544 3947.43,-537"/>
</g>
<!-- const_code_languages -->
<g id="node84" class="node">
<title>const_code_languages</title>
<polygon fill="lightyellow" stroke="black" points="1943,-1846.35 1807,-1846.35 1807,-1805.35 1949,-1805.35 1949,-1840.35 1943,-1846.35"/>
<polyline fill="none" stroke="black" points="1943,-1846.35 1943,-1840.35"/>
<polyline fill="none" stroke="black" points="1949,-1840.35 1943,-1840.35"/>
<text xml:space="preserve" text-anchor="middle" x="1878" y="-1829.05" font-family="Times,serif" font-size="14.00">CODE_LANGUAGES</text>
<text xml:space="preserve" text-anchor="middle" x="1878" y="-1812.55" font-family="Times,serif" font-size="14.00">python,rust,c,cpp</text>
</g>
<!-- const_code_languages&#45;&gt;code_languages -->
<g id="edge79" class="edge">
<title>const_code_languages&#45;&gt;code_languages</title>
<path fill="none" stroke="darkgreen" stroke-dasharray="1,5" d="M1886.62,-1804.96C1898.94,-1779.34 1924.22,-1735.87 1961,-1716.95 2109.7,-1640.48 3348.84,-1784.73 3465,-1664.45 3531.07,-1596.04 3514.52,-1531.65 3465,-1450.45 3430.12,-1393.26 3376.25,-1430.85 3331,-1381.45 3293.7,-1340.74 3317.16,-1310.6 3284,-1266.45 3254.36,-1226.99 3218.47,-1241.89 3197,-1197.45 3174.22,-1150.3 3162.34,-1118.88 3197,-1079.63 3275.56,-990.65 3616.3,-1056.27 3727,-1013.45 3763.97,-999.15 3800.34,-971.78 3824.62,-951.05"/>
<polygon fill="darkgreen" stroke="darkgreen" points="3826.62,-953.96 3831.86,-944.75 3822.02,-948.68 3826.62,-953.96"/>
</g>
</g>
</svg>
